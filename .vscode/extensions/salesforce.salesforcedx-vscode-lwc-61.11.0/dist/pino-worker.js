"use strict";var oa=Object.defineProperty;var o=(e,t)=>oa(e,"name",{value:t,configurable:!0});var R=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Er=R((x_,Di)=>{"use strict";var rt=o(e=>e&&typeof e.message=="string","isErrorLike"),Sr=o(e=>{if(!e)return;let t=e.cause;if(typeof t=="function"){let r=e.cause();return rt(r)?r:void 0}else return rt(t)?t:void 0},"getErrorCause"),ki=o((e,t)=>{if(!rt(e))return"";let r=e.stack||"";if(t.has(e))return r+`
causes have become circular...`;let n=Sr(e);return n?(t.add(e),r+`
caused by: `+ki(n,t)):r},"_stackWithCauses"),sa=o(e=>ki(e,new Set),"stackWithCauses"),Ii=o((e,t,r)=>{if(!rt(e))return"";let n=r?"":e.message||"";if(t.has(e))return n+": ...";let i=Sr(e);if(i){t.add(e);let s=typeof e.cause=="function";return n+(s?"":": ")+Ii(i,t,s)}else return n},"_messageWithCauses"),la=o(e=>Ii(e,new Set),"messageWithCauses");Di.exports={isErrorLike:rt,getErrorCause:Sr,stackWithCauses:sa,messageWithCauses:la}});var Rr=R((O_,qi)=>{"use strict";var fa=Symbol("circular-ref-tag"),Rt=Symbol("pino-raw-err-ref"),Pi=Object.create({},{type:{enumerable:!0,writable:!0,value:void 0},message:{enumerable:!0,writable:!0,value:void 0},stack:{enumerable:!0,writable:!0,value:void 0},aggregateErrors:{enumerable:!0,writable:!0,value:void 0},raw:{enumerable:!1,get:function(){return this[Rt]},set:function(e){this[Rt]=e}}});Object.defineProperty(Pi,Rt,{writable:!0,value:{}});qi.exports={pinoErrProto:Pi,pinoErrorSymbols:{seen:fa,rawSymbol:Rt}}});var Mi=R((v_,Ni)=>{"use strict";Ni.exports=xr;var{messageWithCauses:ua,stackWithCauses:aa,isErrorLike:ji}=Er(),{pinoErrProto:ca,pinoErrorSymbols:da}=Rr(),{seen:Ar}=da,{toString:ha}=Object.prototype;function xr(e){if(!ji(e))return e;e[Ar]=void 0;let t=Object.create(ca);t.type=ha.call(e.constructor)==="[object Function]"?e.constructor.name:e.name,t.message=ua(e),t.stack=aa(e),Array.isArray(e.errors)&&(t.aggregateErrors=e.errors.map(r=>xr(r)));for(let r in e)if(t[r]===void 0){let n=e[r];ji(n)?r!=="cause"&&!Object.prototype.hasOwnProperty.call(n,Ar)&&(t[r]=xr(n)):t[r]=n}return delete e[Ar],t.raw=e,t}o(xr,"errSerializer")});var Ci=R((k_,$i)=>{"use strict";$i.exports=xt;var{isErrorLike:Tr}=Er(),{pinoErrProto:pa,pinoErrorSymbols:ya}=Rr(),{seen:At}=ya,{toString:ba}=Object.prototype;function xt(e){if(!Tr(e))return e;e[At]=void 0;let t=Object.create(pa);t.type=ba.call(e.constructor)==="[object Function]"?e.constructor.name:e.name,t.message=e.message,t.stack=e.stack,Array.isArray(e.errors)&&(t.aggregateErrors=e.errors.map(r=>xt(r))),Tr(e.cause)&&!Object.prototype.hasOwnProperty.call(e.cause,At)&&(t.cause=xt(e.cause));for(let r in e)if(t[r]===void 0){let n=e[r];Tr(n)?Object.prototype.hasOwnProperty.call(n,At)||(t[r]=xt(n)):t[r]=n}return delete e[At],t.raw=e,t}o(xt,"errWithCauseSerializer")});var Ui=R((D_,Fi)=>{"use strict";Fi.exports={mapHttpRequest:ga,reqSerializer:Bi};var Or=Symbol("pino-raw-req-ref"),Wi=Object.create({},{id:{enumerable:!0,writable:!0,value:""},method:{enumerable:!0,writable:!0,value:""},url:{enumerable:!0,writable:!0,value:""},query:{enumerable:!0,writable:!0,value:""},params:{enumerable:!0,writable:!0,value:""},headers:{enumerable:!0,writable:!0,value:{}},remoteAddress:{enumerable:!0,writable:!0,value:""},remotePort:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[Or]},set:function(e){this[Or]=e}}});Object.defineProperty(Wi,Or,{writable:!0,value:{}});function Bi(e){let t=e.info||e.socket,r=Object.create(Wi);if(r.id=typeof e.id=="function"?e.id():e.id||(e.info?e.info.id:void 0),r.method=e.method,e.originalUrl)r.url=e.originalUrl;else{let n=e.path;r.url=typeof n=="string"?n:e.url?e.url.path||e.url:void 0}return e.query&&(r.query=e.query),e.params&&(r.params=e.params),r.headers=e.headers,r.remoteAddress=t&&t.remoteAddress,r.remotePort=t&&t.remotePort,r.raw=e.raw||e,r}o(Bi,"reqSerializer");function ga(e){return{req:Bi(e)}}o(ga,"mapHttpRequest")});var Hi=R((q_,zi)=>{"use strict";zi.exports={mapHttpResponse:wa,resSerializer:Gi};var vr=Symbol("pino-raw-res-ref"),Vi=Object.create({},{statusCode:{enumerable:!0,writable:!0,value:0},headers:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[vr]},set:function(e){this[vr]=e}}});Object.defineProperty(Vi,vr,{writable:!0,value:{}});function Gi(e){let t=Object.create(Vi);return t.statusCode=e.headersSent?e.statusCode:null,t.headers=e.getHeaders?e.getHeaders():e._headers,t.raw=e,t}o(Gi,"resSerializer");function wa(e){return{res:Gi(e)}}o(wa,"mapHttpResponse")});var kr=R((N_,Ki)=>{"use strict";var Lr=Mi(),ma=Ci(),Tt=Ui(),Ot=Hi();Ki.exports={err:Lr,errWithCause:ma,mapHttpRequest:Tt.mapHttpRequest,mapHttpResponse:Ot.mapHttpResponse,req:Tt.reqSerializer,res:Ot.resSerializer,wrapErrorSerializer:o(function(t){return t===Lr?t:o(function(n){return t(Lr(n))},"wrapErrSerializer")},"wrapErrorSerializer"),wrapRequestSerializer:o(function(t){return t===Tt.reqSerializer?t:o(function(n){return t(Tt.reqSerializer(n))},"wrappedReqSerializer")},"wrapRequestSerializer"),wrapResponseSerializer:o(function(t){return t===Ot.resSerializer?t:o(function(n){return t(Ot.resSerializer(n))},"wrappedResSerializer")},"wrapResponseSerializer")}});var Ir=R(($_,Ji)=>{"use strict";function _a(e,t){return t}o(_a,"noOpPrepareStackTrace");Ji.exports=o(function(){let t=Error.prepareStackTrace;Error.prepareStackTrace=_a;let r=new Error().stack;if(Error.prepareStackTrace=t,!Array.isArray(r))return;let n=r.slice(2),i=[];for(let s of n)s&&i.push(s.getFileName());return i},"getCallers")});var Xi=R((W_,Yi)=>{"use strict";Yi.exports=Sa;function Sa(e={}){let{ERR_PATHS_MUST_BE_STRINGS:t=o(()=>"fast-redact - Paths must be (non-empty) strings","ERR_PATHS_MUST_BE_STRINGS"),ERR_INVALID_PATH:r=o(n=>`fast-redact \u2013 Invalid path (${n})`,"ERR_INVALID_PATH")}=e;return o(function({paths:i}){i.forEach(s=>{if(typeof s!="string")throw Error(t());try{if(/ã€‡/.test(s))throw Error();let l=(s[0]==="["?"":".")+s.replace(/^\*/,"\u3007").replace(/\.\*/g,".\u3007").replace(/\[\*\]/g,"[\u3007]");if(/\n|\r|;/.test(l)||/\/\*/.test(l))throw Error();Function(`
            'use strict'
            const o = new Proxy({}, { get: () => o, set: () => { throw Error() } });
            const \u3007 = null;
            o${l}
            if ([o${l}].length !== 1) throw Error()`)()}catch{throw Error(r(s))}})},"validate")}o(Sa,"validator")});var vt=R((F_,Qi)=>{"use strict";Qi.exports=/[^.[\]]+|\[((?:.)*?)\]/g});var eo=R((U_,Zi)=>{"use strict";var Ea=vt();Zi.exports=Ra;function Ra({paths:e}){let t=[];var r=0;let n=e.reduce(function(i,s,l){var f=s.match(Ea).map(a=>a.replace(/'|"|`/g,""));let h=s[0]==="[";f=f.map(a=>a[0]==="["?a.substr(1,a.length-2):a);let u=f.indexOf("*");if(u>-1){let a=f.slice(0,u),d=a.join("."),b=f.slice(u+1,f.length),p=b.length>0;r++,t.push({before:a,beforeStr:d,after:b,nested:p})}else i[s]={path:f,val:void 0,precensored:!1,circle:"",escPath:JSON.stringify(s),leadingBracket:h};return i},{});return{wildcards:t,wcLen:r,secret:n}}o(Ra,"parse")});var ro=R((G_,to)=>{"use strict";var Aa=vt();to.exports=xa;function xa({secret:e,serialize:t,wcLen:r,strict:n,isCensorFct:i,censorFctTakesPath:s},l){let f=Function("o",`
    if (typeof o !== 'object' || o == null) {
      ${La(n,t)}
    }
    const { censor, secret } = this
    const originalSecret = {}
    const secretKeys = Object.keys(secret)
    for (var i = 0; i < secretKeys.length; i++) {
      originalSecret[secretKeys[i]] = secret[secretKeys[i]]
    }

    ${Ta(e,i,s)}
    this.compileRestore()
    ${Oa(r>0,i,s)}
    this.secret = originalSecret
    ${va(t)}
  `).bind(l);return f.state=l,t===!1&&(f.restore=h=>l.restore(h)),f}o(xa,"redactor");function Ta(e,t,r){return Object.keys(e).map(n=>{let{escPath:i,leadingBracket:s,path:l}=e[n],f=s?1:0,h=s?"":".",u=[];for(var a;(a=Aa.exec(n))!==null;){let[,c]=a,{index:y,input:w}=a;y>f&&u.push(w.substring(0,y-(c?0:1)))}var d=u.map(c=>`o${h}${c}`).join(" && ");d.length===0?d+=`o${h}${n} != null`:d+=` && o${h}${n} != null`;let b=`
      switch (true) {
        ${u.reverse().map(c=>`
          case o${h}${c} === censor:
            secret[${i}].circle = ${JSON.stringify(c)}
            break
        `).join(`
`)}
      }
    `,p=r?`val, ${JSON.stringify(l)}`:"val";return`
      if (${d}) {
        const val = o${h}${n}
        if (val === censor) {
          secret[${i}].precensored = true
        } else {
          secret[${i}].val = val
          o${h}${n} = ${t?`censor(${p})`:"censor"}
          ${b}
        }
      }
    `}).join(`
`)}o(Ta,"redactTmpl");function Oa(e,t,r){return e===!0?`
    {
      const { wildcards, wcLen, groupRedact, nestedRedact } = this
      for (var i = 0; i < wcLen; i++) {
        const { before, beforeStr, after, nested } = wildcards[i]
        if (nested === true) {
          secret[beforeStr] = secret[beforeStr] || []
          nestedRedact(secret[beforeStr], o, before, after, censor, ${t}, ${r})
        } else secret[beforeStr] = groupRedact(o, before, censor, ${t}, ${r})
      }
    }
  `:""}o(Oa,"dynamicRedactTmpl");function va(e){return e===!1?"return o":`
    var s = this.serialize(o)
    this.restore(o)
    return s
  `}o(va,"resultTmpl");function La(e,t){return e===!0?"throw Error('fast-redact: primitives cannot be redacted')":t===!1?"return o":"return this.serialize(o)"}o(La,"strictImpl")});var Pr=R((H_,oo)=>{"use strict";oo.exports={groupRedact:Ia,groupRestore:ka,nestedRedact:Pa,nestedRestore:Da};function ka({keys:e,values:t,target:r}){if(r==null||typeof r=="string")return;let n=e.length;for(var i=0;i<n;i++){let s=e[i];r[s]=t[i]}}o(ka,"groupRestore");function Ia(e,t,r,n,i){let s=no(e,t);if(s==null||typeof s=="string")return{keys:null,values:null,target:s,flat:!0};let l=Object.keys(s),f=l.length,h=t.length,u=i?[...t]:void 0,a=new Array(f);for(var d=0;d<f;d++){let b=l[d];a[d]=s[b],i?(u[h]=b,s[b]=r(s[b],u)):n?s[b]=r(s[b]):s[b]=r}return{keys:l,values:a,target:s,flat:!0}}o(Ia,"groupRedact");function Da(e){for(let t=0;t<e.length;t++){let{target:r,path:n,value:i}=e[t],s=r;for(let l=n.length-1;l>0;l--)s=s[n[l]];s[n[0]]=i}}o(Da,"nestedRestore");function Pa(e,t,r,n,i,s,l){let f=no(t,r);if(f==null)return;let h=Object.keys(f),u=h.length;for(var a=0;a<u;a++){let d=h[a];qa(e,f,d,r,n,i,s,l)}return e}o(Pa,"nestedRedact");function Dr(e,t){return e!=null?"hasOwn"in Object?Object.hasOwn(e,t):Object.prototype.hasOwnProperty.call(e,t):!1}o(Dr,"has");function qa(e,t,r,n,i,s,l,f){let h=i.length,u=h-1,a=r;var d=-1,b,p,c,y=null,w=null,m,_,S=!1,E=0,x=0,O=ja();if(c=b=t[r],typeof b=="object"){for(;b!=null&&++d<h&&(x+=1,r=i[d],y=c,!(r!=="*"&&!w&&!(typeof b=="object"&&r in b)));)if(!(r==="*"&&(w==="*"&&(S=!0),w=r,d!==u))){if(w){let k=Object.keys(b);for(var T=0;T<k.length;T++){let A=k[T];if(_=b[A],m=r==="*",S)O=ce(O,A,x),E=d,c=io(_,E-1,r,n,i,s,l,f,a,b,p,c,m,A,d,u,O,e,t[a],x+1);else if(m||typeof _=="object"&&_!==null&&r in _){if(m?c=_:c=_[r],p=d!==u?c:l?f?s(c,[...n,a,...i]):s(c):s,m){let D=nt(ce(O,A,x),c,t[a]);e.push(D),b[A]=p}else if(_[r]!==p)if(p===void 0&&s!==void 0||Dr(_,r)&&p===c)O=ce(O,A,x);else{O=ce(O,A,x);let D=nt(ce(O,r,x+1),c,t[a]);e.push(D),_[r]=p}}}w=null}else{if(c=b[r],O=ce(O,r,x),p=d!==u?c:l?f?s(c,[...n,a,...i]):s(c):s,!(Dr(b,r)&&p===c||p===void 0&&s!==void 0)){let k=nt(O,c,t[a]);e.push(k),b[r]=p}b=b[r]}if(typeof b!="object")break}}}o(qa,"specialSet");function no(e,t){for(var r=-1,n=t.length,i=e;i!=null&&++r<n;)i=i[t[r]];return i}o(no,"get");function io(e,t,r,n,i,s,l,f,h,u,a,d,b,p,c,y,w,m,_,S){if(t===0&&(b||typeof e=="object"&&e!==null&&r in e)){if(b?d=e:d=e[r],a=c!==y?d:l?f?s(d,[...n,h,...i]):s(d):s,b){let E=nt(w,d,_);m.push(E),u[p]=a}else if(e[r]!==a){if(!(a===void 0&&s!==void 0||Dr(e,r)&&a===d)){let E=nt(ce(w,r,S+1),d,_);m.push(E),e[r]=a}}}for(let E in e)typeof e[E]=="object"&&(w=ce(w,E,S),io(e[E],t-1,r,n,i,s,l,f,h,u,a,d,b,p,c,y,w,m,_,S+1))}o(io,"iterateNthLevel");function ja(){return{parent:null,key:null,children:[],depth:0}}o(ja,"tree");function ce(e,t,r){if(e.depth===r)return ce(e.parent,t,r);var n={parent:e,key:t,depth:r,children:[]};return e.children.push(n),n}o(ce,"node");function nt(e,t,r){let n=e,i=[];do i.push(n.key),n=n.parent;while(n.parent!=null);return{path:i,value:t,target:r}}o(nt,"restoreInstr")});var lo=R((J_,so)=>{"use strict";var{groupRestore:Na,nestedRestore:Ma}=Pr();so.exports=$a;function $a(){return o(function(){if(this.restore){this.restore.state.secret=this.secret;return}let{secret:t,wcLen:r}=this,n=Object.keys(t),i=Ca(t,n),s=r>0,l=s?{secret:t,groupRestore:Na,nestedRestore:Ma}:{secret:t};this.restore=Function("o",Wa(i,n,s)).bind(l),this.restore.state=l},"compileRestore")}o($a,"restorer");function Ca(e,t){return t.map(r=>{let{circle:n,escPath:i,leadingBracket:s}=e[r],f=n?`o.${n} = secret[${i}].val`:`o${s?"":"."}${r} = secret[${i}].val`,h=`secret[${i}].val = undefined`;return`
      if (secret[${i}].val !== undefined) {
        try { ${f} } catch (e) {}
        ${h}
      }
    `}).join("")}o(Ca,"resetTmpl");function Wa(e,t,r){return`
    const secret = this.secret
    ${r===!0?`
    const keys = Object.keys(secret)
    const len = keys.length
    for (var i = len - 1; i >= ${t.length}; i--) {
      const k = keys[i]
      const o = secret[k]
      if (o) {
        if (o.flat === true) this.groupRestore(o)
        else this.nestedRestore(o)
        secret[k] = null
      }
    }
  `:""}
    ${e}
    return o
  `}o(Wa,"restoreTmpl")});var uo=R((X_,fo)=>{"use strict";fo.exports=Ba;function Ba(e){let{secret:t,censor:r,compileRestore:n,serialize:i,groupRedact:s,nestedRedact:l,wildcards:f,wcLen:h}=e,u=[{secret:t,censor:r,compileRestore:n}];return i!==!1&&u.push({serialize:i}),h>0&&u.push({groupRedact:s,nestedRedact:l,wildcards:f,wcLen:h}),Object.assign(...u)}o(Ba,"state")});var ho=R((Z_,co)=>{"use strict";var ao=Xi(),Fa=eo(),Ua=ro(),Va=lo(),{groupRedact:Ga,nestedRedact:za}=Pr(),Ha=uo(),Ka=vt(),Ja=ao(),qr=o(e=>e,"noop");qr.restore=qr;var Ya="[REDACTED]";jr.rx=Ka;jr.validator=ao;co.exports=jr;function jr(e={}){let t=Array.from(new Set(e.paths||[])),r="serialize"in e&&(e.serialize===!1||typeof e.serialize=="function")?e.serialize:JSON.stringify,n=e.remove;if(n===!0&&r!==JSON.stringify)throw Error("fast-redact \u2013 remove option may only be set when serializer is JSON.stringify");let i=n===!0?void 0:"censor"in e?e.censor:Ya,s=typeof i=="function",l=s&&i.length>1;if(t.length===0)return r||qr;Ja({paths:t,serialize:r,censor:i});let{wildcards:f,wcLen:h,secret:u}=Fa({paths:t,censor:i}),a=Va(),d="strict"in e?e.strict:!0;return Ua({secret:u,wcLen:h,serialize:r,strict:d,isCensorFct:s,censorFctTakesPath:l},Ha({secret:u,censor:i,compileRestore:a,serialize:r,groupRedact:Ga,nestedRedact:za,wildcards:f,wcLen:h}))}o(jr,"fastRedact")});var Ce=R((tS,po)=>{"use strict";var Xa=Symbol("pino.setLevel"),Qa=Symbol("pino.getLevel"),Za=Symbol("pino.levelVal"),ec=Symbol("pino.levelComp"),tc=Symbol("pino.useLevelLabels"),rc=Symbol("pino.useOnlyCustomLevels"),nc=Symbol("pino.mixin"),ic=Symbol("pino.lsCache"),oc=Symbol("pino.chindings"),sc=Symbol("pino.asJson"),lc=Symbol("pino.write"),fc=Symbol("pino.redactFmt"),uc=Symbol("pino.time"),ac=Symbol("pino.timeSliceIndex"),cc=Symbol("pino.stream"),dc=Symbol("pino.stringify"),hc=Symbol("pino.stringifySafe"),pc=Symbol("pino.stringifiers"),yc=Symbol("pino.end"),bc=Symbol("pino.formatOpts"),gc=Symbol("pino.messageKey"),wc=Symbol("pino.errorKey"),mc=Symbol("pino.nestedKey"),_c=Symbol("pino.nestedKeyStr"),Sc=Symbol("pino.mixinMergeStrategy"),Ec=Symbol("pino.msgPrefix"),Rc=Symbol("pino.wildcardFirst"),Ac=Symbol.for("pino.serializers"),xc=Symbol.for("pino.formatters"),Tc=Symbol.for("pino.hooks"),Oc=Symbol.for("pino.metadata");po.exports={setLevelSym:Xa,getLevelSym:Qa,levelValSym:Za,levelCompSym:ec,useLevelLabelsSym:tc,mixinSym:nc,lsCacheSym:ic,chindingsSym:oc,asJsonSym:sc,writeSym:lc,serializersSym:Ac,redactFmtSym:fc,timeSym:uc,timeSliceIndexSym:ac,streamSym:cc,stringifySym:dc,stringifySafeSym:hc,stringifiersSym:pc,endSym:yc,formatOptsSym:bc,messageKeySym:gc,errorKeySym:wc,nestedKeySym:mc,wildcardFirstSym:Rc,needsMetadataGsym:Oc,useOnlyCustomLevelsSym:rc,formattersSym:xc,hooksSym:Tc,nestedKeyStrSym:_c,mixinMergeStrategySym:Sc,msgPrefixSym:Ec}});var $r=R((rS,wo)=>{"use strict";var Mr=ho(),{redactFmtSym:vc,wildcardFirstSym:Lt}=Ce(),{rx:Nr,validator:Lc}=Mr,yo=Lc({ERR_PATHS_MUST_BE_STRINGS:()=>"pino \u2013 redacted paths must be strings",ERR_INVALID_PATH:e=>`pino \u2013 redact paths array contains an invalid path (${e})`}),bo="[Redacted]",go=!1;function kc(e,t){let{paths:r,censor:n}=Ic(e),i=r.reduce((f,h)=>{Nr.lastIndex=0;let u=Nr.exec(h),a=Nr.exec(h),d=u[1]!==void 0?u[1].replace(/^(?:"|'|`)(.*)(?:"|'|`)$/,"$1"):u[0];if(d==="*"&&(d=Lt),a===null)return f[d]=null,f;if(f[d]===null)return f;let{index:b}=a,p=`${h.substr(b,h.length-1)}`;return f[d]=f[d]||[],d!==Lt&&f[d].length===0&&f[d].push(...f[Lt]||[]),d===Lt&&Object.keys(f).forEach(function(c){f[c]&&f[c].push(p)}),f[d].push(p),f},{}),s={[vc]:Mr({paths:r,censor:n,serialize:t,strict:go})},l=o((...f)=>t(typeof n=="function"?n(...f):n),"topCensor");return[...Object.keys(i),...Object.getOwnPropertySymbols(i)].reduce((f,h)=>{if(i[h]===null)f[h]=u=>l(u,[h]);else{let u=typeof n=="function"?(a,d)=>n(a,[h,...d]):n;f[h]=Mr({paths:i[h],censor:u,serialize:t,strict:go})}return f},s)}o(kc,"redaction");function Ic(e){if(Array.isArray(e))return e={paths:e,censor:bo},yo(e),e;let{paths:t,censor:r=bo,remove:n}=e;if(Array.isArray(t)===!1)throw Error("pino \u2013 redact must contain an array of strings");return n===!0&&(r=void 0),yo({paths:t,censor:r}),{paths:t,censor:r}}o(Ic,"handle");wo.exports=kc});var _o=R((iS,mo)=>{"use strict";var Dc=o(()=>"","nullTime"),Pc=o(()=>`,"time":${Date.now()}`,"epochTime"),qc=o(()=>`,"time":${Math.round(Date.now()/1e3)}`,"unixTime"),jc=o(()=>`,"time":"${new Date(Date.now()).toISOString()}"`,"isoTime");mo.exports={nullTime:Dc,epochTime:Pc,unixTime:qc,isoTime:jc}});var Eo=R((sS,So)=>{"use strict";function Nc(e){try{return JSON.stringify(e)}catch{return'"[Circular]"'}}o(Nc,"tryStringify");So.exports=Mc;function Mc(e,t,r){var n=r&&r.stringify||Nc,i=1;if(typeof e=="object"&&e!==null){var s=t.length+i;if(s===1)return e;var l=new Array(s);l[0]=n(e);for(var f=1;f<s;f++)l[f]=n(t[f]);return l.join(" ")}if(typeof e!="string")return e;var h=t.length;if(h===0)return e;for(var u="",a=1-i,d=-1,b=e&&e.length||0,p=0;p<b;){if(e.charCodeAt(p)===37&&p+1<b){switch(d=d>-1?d:0,e.charCodeAt(p+1)){case 100:case 102:if(a>=h||t[a]==null)break;d<p&&(u+=e.slice(d,p)),u+=Number(t[a]),d=p+2,p++;break;case 105:if(a>=h||t[a]==null)break;d<p&&(u+=e.slice(d,p)),u+=Math.floor(Number(t[a])),d=p+2,p++;break;case 79:case 111:case 106:if(a>=h||t[a]===void 0)break;d<p&&(u+=e.slice(d,p));var c=typeof t[a];if(c==="string"){u+="'"+t[a]+"'",d=p+2,p++;break}if(c==="function"){u+=t[a].name||"<anonymous>",d=p+2,p++;break}u+=n(t[a]),d=p+2,p++;break;case 115:if(a>=h)break;d<p&&(u+=e.slice(d,p)),u+=String(t[a]),d=p+2,p++;break;case 37:d<p&&(u+=e.slice(d,p)),u+="%",d=p+2,p++,a--;break}++a}++p}return d===-1?e:(d<b&&(u+=e.slice(d)),u)}o(Mc,"format")});var Wr=R((fS,Cr)=>{"use strict";if(typeof SharedArrayBuffer<"u"&&typeof Atomics<"u"){let t=function(r){if((r>0&&r<1/0)===!1)throw typeof r!="number"&&typeof r!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");Atomics.wait(e,0,0,Number(r))};o(t,"sleep");let e=new Int32Array(new SharedArrayBuffer(4));Cr.exports=t}else{let e=function(t){if((t>0&&t<1/0)===!1)throw typeof t!="number"&&typeof t!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");let n=Date.now()+Number(t);for(;n>Date.now(););};o(e,"sleep"),Cr.exports=e}});var ko=R((aS,Lo)=>{"use strict";var $=require("fs"),$c=require("events"),Cc=require("util").inherits,Ro=require("path"),Fr=Wr(),kt=100,It=Buffer.allocUnsafe(0),Wc=16*1024,Ao="buffer",xo="utf8";function To(e,t){t._opening=!0,t._writing=!0,t._asyncDrainScheduled=!1;function r(s,l){if(s){t._reopening=!1,t._writing=!1,t._opening=!1,t.sync?process.nextTick(()=>{t.listenerCount("error")>0&&t.emit("error",s)}):t.emit("error",s);return}let f=t._reopening;t.fd=l,t.file=e,t._reopening=!1,t._opening=!1,t._writing=!1,t.sync?process.nextTick(()=>t.emit("ready")):t.emit("ready"),!t.destroyed&&(!t._writing&&t._len>t.minLength||t._flushPending?t._actualWrite():f&&process.nextTick(()=>t.emit("drain")))}o(r,"fileOpened");let n=t.append?"a":"w",i=t.mode;if(t.sync)try{t.mkdir&&$.mkdirSync(Ro.dirname(e),{recursive:!0});let s=$.openSync(e,n,i);r(null,s)}catch(s){throw r(s),s}else t.mkdir?$.mkdir(Ro.dirname(e),{recursive:!0},s=>{if(s)return r(s);$.open(e,n,i,r)}):$.open(e,n,i,r)}o(To,"openFile");function Q(e){if(!(this instanceof Q))return new Q(e);let{fd:t,dest:r,minLength:n,maxLength:i,maxWrite:s,sync:l,append:f=!0,mkdir:h,retryEAGAIN:u,fsync:a,contentMode:d,mode:b}=e||{};t=t||r,this._len=0,this.fd=-1,this._bufs=[],this._lens=[],this._writing=!1,this._ending=!1,this._reopening=!1,this._asyncDrainScheduled=!1,this._flushPending=!1,this._hwm=Math.max(n||0,16387),this.file=null,this.destroyed=!1,this.minLength=n||0,this.maxLength=i||0,this.maxWrite=s||Wc,this.sync=l||!1,this.writable=!0,this._fsync=a||!1,this.append=f||!1,this.mode=b,this.retryEAGAIN=u||(()=>!0),this.mkdir=h||!1;let p,c;if(d===Ao)this._writingBuf=It,this.write=Uc,this.flush=Gc,this.flushSync=Hc,this._actualWrite=Jc,p=o(()=>$.writeSync(this.fd,this._writingBuf),"fsWriteSync"),c=o(()=>$.write(this.fd,this._writingBuf,this.release),"fsWrite");else if(d===void 0||d===xo)this._writingBuf="",this.write=Fc,this.flush=Vc,this.flushSync=zc,this._actualWrite=Kc,p=o(()=>$.writeSync(this.fd,this._writingBuf,"utf8"),"fsWriteSync"),c=o(()=>$.write(this.fd,this._writingBuf,"utf8",this.release),"fsWrite");else throw new Error(`SonicBoom supports "${xo}" and "${Ao}", but passed ${d}`);if(typeof t=="number")this.fd=t,process.nextTick(()=>this.emit("ready"));else if(typeof t=="string")To(t,this);else throw new Error("SonicBoom supports only file descriptors and files");if(this.minLength>=this.maxWrite)throw new Error(`minLength should be smaller than maxWrite (${this.maxWrite})`);this.release=(y,w)=>{if(y){if((y.code==="EAGAIN"||y.code==="EBUSY")&&this.retryEAGAIN(y,this._writingBuf.length,this._len-this._writingBuf.length))if(this.sync)try{Fr(kt),this.release(void 0,0)}catch(S){this.release(S)}else setTimeout(c,kt);else this._writing=!1,this.emit("error",y);return}this.emit("write",w);let m=Br(this._writingBuf,this._len,w);if(this._len=m.len,this._writingBuf=m.writingBuf,this._writingBuf.length){if(!this.sync){c();return}try{do{let S=p(),E=Br(this._writingBuf,this._len,S);this._len=E.len,this._writingBuf=E.writingBuf}while(this._writingBuf.length)}catch(S){this.release(S);return}}this._fsync&&$.fsyncSync(this.fd);let _=this._len;this._reopening?(this._writing=!1,this._reopening=!1,this.reopen()):_>this.minLength?this._actualWrite():this._ending?_>0?this._actualWrite():(this._writing=!1,Dt(this)):(this._writing=!1,this.sync?this._asyncDrainScheduled||(this._asyncDrainScheduled=!0,process.nextTick(Bc,this)):this.emit("drain"))},this.on("newListener",function(y){y==="drain"&&(this._asyncDrainScheduled=!1)})}o(Q,"SonicBoom");function Br(e,t,r){return typeof e=="string"&&Buffer.byteLength(e)!==r&&(r=Buffer.from(e).subarray(0,r).toString().length),t=Math.max(t-r,0),e=e.slice(r),{writingBuf:e,len:t}}o(Br,"releaseWritingBuf");function Bc(e){e.listenerCount("drain")>0&&(e._asyncDrainScheduled=!1,e.emit("drain"))}o(Bc,"emitDrain");Cc(Q,$c);function Oo(e,t){return e.length===0?It:e.length===1?e[0]:Buffer.concat(e,t)}o(Oo,"mergeBuf");function Fc(e){if(this.destroyed)throw new Error("SonicBoom destroyed");let t=this._len+e.length,r=this._bufs;return this.maxLength&&t>this.maxLength?(this.emit("drop",e),this._len<this._hwm):(r.length===0||r[r.length-1].length+e.length>this.maxWrite?r.push(""+e):r[r.length-1]+=e,this._len=t,!this._writing&&this._len>=this.minLength&&this._actualWrite(),this._len<this._hwm)}o(Fc,"write");function Uc(e){if(this.destroyed)throw new Error("SonicBoom destroyed");let t=this._len+e.length,r=this._bufs,n=this._lens;return this.maxLength&&t>this.maxLength?(this.emit("drop",e),this._len<this._hwm):(r.length===0||n[n.length-1]+e.length>this.maxWrite?(r.push([e]),n.push(e.length)):(r[r.length-1].push(e),n[n.length-1]+=e.length),this._len=t,!this._writing&&this._len>=this.minLength&&this._actualWrite(),this._len<this._hwm)}o(Uc,"writeBuffer");function vo(e){this._flushPending=!0;let t=o(()=>{this._fsync?(this._flushPending=!1,e()):$.fsync(this.fd,n=>{this._flushPending=!1,e(n)}),this.off("error",r)},"onDrain"),r=o(n=>{this._flushPending=!1,e(n),this.off("drain",t)},"onError");this.once("drain",t),this.once("error",r)}o(vo,"callFlushCallbackOnDrain");function Vc(e){if(e!=null&&typeof e!="function")throw new Error("flush cb must be a function");if(this.destroyed){let t=new Error("SonicBoom destroyed");if(e){e(t);return}throw t}if(this.minLength<=0){e?.();return}e&&vo.call(this,e),!this._writing&&(this._bufs.length===0&&this._bufs.push(""),this._actualWrite())}o(Vc,"flush");function Gc(e){if(e!=null&&typeof e!="function")throw new Error("flush cb must be a function");if(this.destroyed){let t=new Error("SonicBoom destroyed");if(e){e(t);return}throw t}if(this.minLength<=0){e?.();return}e&&vo.call(this,e),!this._writing&&(this._bufs.length===0&&(this._bufs.push([]),this._lens.push(0)),this._actualWrite())}o(Gc,"flushBuffer");Q.prototype.reopen=function(e){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.reopen(e)});return}if(this._ending)return;if(!this.file)throw new Error("Unable to reopen a file descriptor, you must pass a file to SonicBoom");if(e&&(this.file=e),this._reopening=!0,this._writing)return;let t=this.fd;this.once("ready",()=>{t!==this.fd&&$.close(t,r=>{if(r)return this.emit("error",r)})}),To(this.file,this)};Q.prototype.end=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.end()});return}this._ending||(this._ending=!0,!this._writing&&(this._len>0&&this.fd>=0?this._actualWrite():Dt(this)))};function zc(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this.fd<0)throw new Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift(this._writingBuf),this._writingBuf="");let e="";for(;this._bufs.length||e;){e.length<=0&&(e=this._bufs[0]);try{let t=$.writeSync(this.fd,e,"utf8"),r=Br(e,this._len,t);e=r.writingBuf,this._len=r.len,e.length<=0&&this._bufs.shift()}catch(t){if((t.code==="EAGAIN"||t.code==="EBUSY")&&!this.retryEAGAIN(t,e.length,this._len-e.length))throw t;Fr(kt)}}try{$.fsyncSync(this.fd)}catch{}}o(zc,"flushSync");function Hc(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this.fd<0)throw new Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift([this._writingBuf]),this._writingBuf=It);let e=It;for(;this._bufs.length||e.length;){e.length<=0&&(e=Oo(this._bufs[0],this._lens[0]));try{let t=$.writeSync(this.fd,e);e=e.subarray(t),this._len=Math.max(this._len-t,0),e.length<=0&&(this._bufs.shift(),this._lens.shift())}catch(t){if((t.code==="EAGAIN"||t.code==="EBUSY")&&!this.retryEAGAIN(t,e.length,this._len-e.length))throw t;Fr(kt)}}}o(Hc,"flushBufferSync");Q.prototype.destroy=function(){this.destroyed||Dt(this)};function Kc(){let e=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf||this._bufs.shift()||"",this.sync)try{let t=$.writeSync(this.fd,this._writingBuf,"utf8");e(null,t)}catch(t){e(t)}else $.write(this.fd,this._writingBuf,"utf8",e)}o(Kc,"actualWrite");function Jc(){let e=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf.length?this._writingBuf:Oo(this._bufs.shift(),this._lens.shift()),this.sync)try{let t=$.writeSync(this.fd,this._writingBuf);e(null,t)}catch(t){e(t)}else $.write(this.fd,this._writingBuf,e)}o(Jc,"actualWriteBuffer");function Dt(e){if(e.fd===-1){e.once("ready",Dt.bind(null,e));return}e.destroyed=!0,e._bufs=[],e._lens=[],$.fsync(e.fd,t);function t(){e.fd!==1&&e.fd!==2?$.close(e.fd,r):r()}o(t,"closeWrapped");function r(n){if(n){e.emit("error",n);return}e._ending&&!e._writing&&e.emit("finish"),e.emit("close")}o(r,"done")}o(Dt,"actualClose");Q.SonicBoom=Q;Q.default=Q;Lo.exports=Q});var Ur=R((dS,jo)=>{"use strict";var Z={exit:[],beforeExit:[]},Io={exit:Qc,beforeExit:Zc},We;function Yc(){We===void 0&&(We=new FinalizationRegistry(ed))}o(Yc,"ensureRegistry");function Xc(e){Z[e].length>0||process.on(e,Io[e])}o(Xc,"install");function Do(e){Z[e].length>0||(process.removeListener(e,Io[e]),Z.exit.length===0&&Z.beforeExit.length===0&&(We=void 0))}o(Do,"uninstall");function Qc(){Po("exit")}o(Qc,"onExit");function Zc(){Po("beforeExit")}o(Zc,"onBeforeExit");function Po(e){for(let t of Z[e]){let r=t.deref(),n=t.fn;r!==void 0&&n(r,e)}Z[e]=[]}o(Po,"callRefs");function ed(e){for(let t of["exit","beforeExit"]){let r=Z[t].indexOf(e);Z[t].splice(r,r+1),Do(t)}}o(ed,"clear");function qo(e,t,r){if(t===void 0)throw new Error("the object can't be undefined");Xc(e);let n=new WeakRef(t);n.fn=r,Yc(),We.register(t,n),Z[e].push(n)}o(qo,"_register");function td(e,t){qo("exit",e,t)}o(td,"register");function rd(e,t){qo("beforeExit",e,t)}o(rd,"registerBeforeExit");function nd(e){if(We!==void 0){We.unregister(e);for(let t of["exit","beforeExit"])Z[t]=Z[t].filter(r=>{let n=r.deref();return n&&n!==e}),Do(t)}}o(nd,"unregister");jo.exports={register:td,registerBeforeExit:rd,unregister:nd}});var No=R((pS,id)=>{id.exports={name:"thread-stream",version:"3.1.0",description:"A streaming way to send data to a Node.js Worker Thread",main:"index.js",types:"index.d.ts",dependencies:{"real-require":"^0.2.0"},devDependencies:{"@types/node":"^20.1.0","@types/tap":"^15.0.0","@yao-pkg/pkg":"^5.11.5",desm:"^1.3.0",fastbench:"^1.0.1",husky:"^9.0.6","pino-elasticsearch":"^8.0.0","sonic-boom":"^4.0.1",standard:"^17.0.0",tap:"^16.2.0","ts-node":"^10.8.0",typescript:"^5.3.2","why-is-node-running":"^2.2.2"},scripts:{build:"tsc --noEmit",test:'standard && npm run build && npm run transpile && tap "test/**/*.test.*js" && tap --ts test/*.test.*ts',"test:ci":"standard && npm run transpile && npm run test:ci:js && npm run test:ci:ts","test:ci:js":'tap --no-check-coverage --timeout=120 --coverage-report=lcovonly "test/**/*.test.*js"',"test:ci:ts":'tap --ts --no-check-coverage --coverage-report=lcovonly "test/**/*.test.*ts"',"test:yarn":'npm run transpile && tap "test/**/*.test.js" --no-check-coverage',transpile:"sh ./test/ts/transpile.sh",prepare:"husky install"},standard:{ignore:["test/ts/**/*","test/syntax-error.mjs"]},repository:{type:"git",url:"git+https://github.com/mcollina/thread-stream.git"},keywords:["worker","thread","threads","stream"],author:"Matteo Collina <hello@matteocollina.com>",license:"MIT",bugs:{url:"https://github.com/mcollina/thread-stream/issues"},homepage:"https://github.com/mcollina/thread-stream#readme"}});var $o=R((yS,Mo)=>{"use strict";function od(e,t,r,n,i){let s=Date.now()+n,l=Atomics.load(e,t);if(l===r){i(null,"ok");return}let f=l,h=o(u=>{Date.now()>s?i(null,"timed-out"):setTimeout(()=>{f=l,l=Atomics.load(e,t),l===f?h(u>=1e3?1e3:u*2):l===r?i(null,"ok"):i(null,"not-equal")},u)},"check");h(1)}o(od,"wait");function sd(e,t,r,n,i){let s=Date.now()+n,l=Atomics.load(e,t);if(l!==r){i(null,"ok");return}let f=o(h=>{Date.now()>s?i(null,"timed-out"):setTimeout(()=>{l=Atomics.load(e,t),l!==r?i(null,"ok"):f(h>=1e3?1e3:h*2)},h)},"check");f(1)}o(sd,"waitDiff");Mo.exports={wait:od,waitDiff:sd}});var Wo=R((gS,Co)=>{"use strict";Co.exports={WRITE_INDEX:4,READ_INDEX:8}});var Go=R((wS,Vo)=>{"use strict";var{version:ld}=No(),{EventEmitter:fd}=require("events"),{Worker:ud}=require("worker_threads"),{join:ad}=require("path"),{pathToFileURL:cd}=require("url"),{wait:dd}=$o(),{WRITE_INDEX:H,READ_INDEX:ne}=Wo(),hd=require("buffer"),pd=require("assert"),g=Symbol("kImpl"),yd=hd.constants.MAX_STRING_LENGTH,it=class{static{o(this,"FakeWeakRef")}constructor(t){this._value=t}deref(){return this._value}},qt=class{static{o(this,"FakeFinalizationRegistry")}register(){}unregister(){}},bd=process.env.NODE_V8_COVERAGE?qt:global.FinalizationRegistry||qt,gd=process.env.NODE_V8_COVERAGE?it:global.WeakRef||it,Bo=new bd(e=>{e.exited||e.terminate()});function wd(e,t){let{filename:r,workerData:n}=t,s=("__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{})["thread-stream-worker"]||ad(__dirname,"lib","worker.js"),l=new ud(s,{...t.workerOpts,trackUnmanagedFds:!1,workerData:{filename:r.indexOf("file://")===0?r:cd(r).href,dataBuf:e[g].dataBuf,stateBuf:e[g].stateBuf,workerData:{$context:{threadStreamVersion:ld},...n}}});return l.stream=new it(e),l.on("message",md),l.on("exit",Uo),Bo.register(e,l),l}o(wd,"createWorker");function Fo(e){pd(!e[g].sync),e[g].needDrain&&(e[g].needDrain=!1,e.emit("drain"))}o(Fo,"drain");function Pt(e){let t=Atomics.load(e[g].state,H),r=e[g].data.length-t;if(r>0){if(e[g].buf.length===0){e[g].flushing=!1,e[g].ending?Kr(e):e[g].needDrain&&process.nextTick(Fo,e);return}let n=e[g].buf.slice(0,r),i=Buffer.byteLength(n);i<=r?(e[g].buf=e[g].buf.slice(r),jt(e,n,Pt.bind(null,e))):e.flush(()=>{if(!e.destroyed){for(Atomics.store(e[g].state,ne,0),Atomics.store(e[g].state,H,0);i>e[g].data.length;)r=r/2,n=e[g].buf.slice(0,r),i=Buffer.byteLength(n);e[g].buf=e[g].buf.slice(r),jt(e,n,Pt.bind(null,e))}})}else if(r===0){if(t===0&&e[g].buf.length===0)return;e.flush(()=>{Atomics.store(e[g].state,ne,0),Atomics.store(e[g].state,H,0),Pt(e)})}else ie(e,new Error("overwritten"))}o(Pt,"nextFlush");function md(e){let t=this.stream.deref();if(t===void 0){this.exited=!0,this.terminate();return}switch(e.code){case"READY":this.stream=new gd(t),t.flush(()=>{t[g].ready=!0,t.emit("ready")});break;case"ERROR":ie(t,e.err);break;case"EVENT":Array.isArray(e.args)?t.emit(e.name,...e.args):t.emit(e.name,e.args);break;case"WARNING":process.emitWarning(e.err);break;default:ie(t,new Error("this should not happen: "+e.code))}}o(md,"onWorkerMessage");function Uo(e){let t=this.stream.deref();t!==void 0&&(Bo.unregister(t),t.worker.exited=!0,t.worker.off("exit",Uo),ie(t,e!==0?new Error("the worker thread exited"):null))}o(Uo,"onWorkerExit");var Gr=class extends fd{static{o(this,"ThreadStream")}constructor(t={}){if(super(),t.bufferSize<4)throw new Error("bufferSize must at least fit a 4-byte utf-8 char");this[g]={},this[g].stateBuf=new SharedArrayBuffer(128),this[g].state=new Int32Array(this[g].stateBuf),this[g].dataBuf=new SharedArrayBuffer(t.bufferSize||4*1024*1024),this[g].data=Buffer.from(this[g].dataBuf),this[g].sync=t.sync||!1,this[g].ending=!1,this[g].ended=!1,this[g].needDrain=!1,this[g].destroyed=!1,this[g].flushing=!1,this[g].ready=!1,this[g].finished=!1,this[g].errored=null,this[g].closed=!1,this[g].buf="",this.worker=wd(this,t),this.on("message",(r,n)=>{this.worker.postMessage(r,n)})}write(t){if(this[g].destroyed)return zr(this,new Error("the worker has exited")),!1;if(this[g].ending)return zr(this,new Error("the worker is ending")),!1;if(this[g].flushing&&this[g].buf.length+t.length>=yd)try{Vr(this),this[g].flushing=!0}catch(r){return ie(this,r),!1}if(this[g].buf+=t,this[g].sync)try{return Vr(this),!0}catch(r){return ie(this,r),!1}return this[g].flushing||(this[g].flushing=!0,setImmediate(Pt,this)),this[g].needDrain=this[g].data.length-this[g].buf.length-Atomics.load(this[g].state,H)<=0,!this[g].needDrain}end(){this[g].destroyed||(this[g].ending=!0,Kr(this))}flush(t){if(this[g].destroyed){typeof t=="function"&&process.nextTick(t,new Error("the worker has exited"));return}let r=Atomics.load(this[g].state,H);dd(this[g].state,ne,r,1/0,(n,i)=>{if(n){ie(this,n),process.nextTick(t,n);return}if(i==="not-equal"){this.flush(t);return}process.nextTick(t)})}flushSync(){this[g].destroyed||(Vr(this),Hr(this))}unref(){this.worker.unref()}ref(){this.worker.ref()}get ready(){return this[g].ready}get destroyed(){return this[g].destroyed}get closed(){return this[g].closed}get writable(){return!this[g].destroyed&&!this[g].ending}get writableEnded(){return this[g].ending}get writableFinished(){return this[g].finished}get writableNeedDrain(){return this[g].needDrain}get writableObjectMode(){return!1}get writableErrored(){return this[g].errored}};function zr(e,t){setImmediate(()=>{e.emit("error",t)})}o(zr,"error");function ie(e,t){e[g].destroyed||(e[g].destroyed=!0,t&&(e[g].errored=t,zr(e,t)),e.worker.exited?setImmediate(()=>{e[g].closed=!0,e.emit("close")}):e.worker.terminate().catch(()=>{}).then(()=>{e[g].closed=!0,e.emit("close")}))}o(ie,"destroy");function jt(e,t,r){let n=Atomics.load(e[g].state,H),i=Buffer.byteLength(t);return e[g].data.write(t,n),Atomics.store(e[g].state,H,n+i),Atomics.notify(e[g].state,H),r(),!0}o(jt,"write");function Kr(e){if(!(e[g].ended||!e[g].ending||e[g].flushing)){e[g].ended=!0;try{e.flushSync();let t=Atomics.load(e[g].state,ne);Atomics.store(e[g].state,H,-1),Atomics.notify(e[g].state,H);let r=0;for(;t!==-1;){if(Atomics.wait(e[g].state,ne,t,1e3),t=Atomics.load(e[g].state,ne),t===-2){ie(e,new Error("end() failed"));return}if(++r===10){ie(e,new Error("end() took too long (10s)"));return}}process.nextTick(()=>{e[g].finished=!0,e.emit("finish")})}catch(t){ie(e,t)}}}o(Kr,"end");function Vr(e){let t=o(()=>{e[g].ending?Kr(e):e[g].needDrain&&process.nextTick(Fo,e)},"cb");for(e[g].flushing=!1;e[g].buf.length!==0;){let r=Atomics.load(e[g].state,H),n=e[g].data.length-r;if(n===0){Hr(e),Atomics.store(e[g].state,ne,0),Atomics.store(e[g].state,H,0);continue}else if(n<0)throw new Error("overwritten");let i=e[g].buf.slice(0,n),s=Buffer.byteLength(i);if(s<=n)e[g].buf=e[g].buf.slice(n),jt(e,i,t);else{for(Hr(e),Atomics.store(e[g].state,ne,0),Atomics.store(e[g].state,H,0);s>e[g].buf.length;)n=n/2,i=e[g].buf.slice(0,n),s=Buffer.byteLength(i);e[g].buf=e[g].buf.slice(n),jt(e,i,t)}}}o(Vr,"writeSync");function Hr(e){if(e[g].flushing)throw new Error("unable to flush while flushing");let t=Atomics.load(e[g].state,H),r=0;for(;;){let n=Atomics.load(e[g].state,ne);if(n===-2)throw Error("_flushSync failed");if(n!==t)Atomics.wait(e[g].state,ne,n,1e3);else break;if(++r===10)throw new Error("_flushSync took too long (10s)")}}o(Hr,"flushSync");Vo.exports=Gr});var Xr=R((_S,zo)=>{"use strict";var{createRequire:_d}=require("module"),Sd=Ir(),{join:Jr,isAbsolute:Ed,sep:Rd}=require("node:path"),Ad=Wr(),Yr=Ur(),xd=Go();function Td(e){Yr.register(e,vd),Yr.registerBeforeExit(e,Ld),e.on("close",function(){Yr.unregister(e)})}o(Td,"setupOnExit");function Od(e,t,r){let n=new xd({filename:e,workerData:t,workerOpts:r});n.on("ready",i),n.on("close",function(){process.removeListener("exit",s)}),process.on("exit",s);function i(){process.removeListener("exit",s),n.unref(),r.autoEnd!==!1&&Td(n)}o(i,"onReady");function s(){n.closed||(n.flushSync(),Ad(100),n.end())}return o(s,"onExit"),n}o(Od,"buildStream");function vd(e){e.ref(),e.flushSync(),e.end(),e.once("close",function(){e.unref()})}o(vd,"autoEnd");function Ld(e){e.flushSync()}o(Ld,"flush");function kd(e){let{pipeline:t,targets:r,levels:n,dedupe:i,worker:s={},caller:l=Sd()}=e,f={...e.options},h=typeof l=="string"?[l]:l,u="__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{},a=e.target;if(a&&r)throw new Error("only one of target or targets can be specified");return r?(a=u["pino-worker"]||Jr(__dirname,"worker.js"),f.targets=r.filter(b=>b.target).map(b=>({...b,target:d(b.target)})),f.pipelines=r.filter(b=>b.pipeline).map(b=>b.pipeline.map(p=>({...p,level:b.level,target:d(p.target)})))):t&&(a=u["pino-worker"]||Jr(__dirname,"worker.js"),f.pipelines=[t.map(b=>({...b,target:d(b.target)}))]),n&&(f.levels=n),i&&(f.dedupe=i),f.pinoWillSendConfig=!0,Od(d(a),f,s);function d(b){if(b=u[b]||b,Ed(b)||b.indexOf("file://")===0)return b;if(b==="pino/file")return Jr(__dirname,"..","file.js");let p;for(let c of h)try{let y=c==="node:repl"?process.cwd()+Rd:c;p=_d(y).resolve(b);break}catch{continue}if(!p)throw new Error(`unable to determine transport target for "${b}"`);return p}o(d,"fixTarget")}o(kd,"transport");zo.exports=kd});var $t=R((ES,ns)=>{"use strict";var Ho=Eo(),{mapHttpRequest:Id,mapHttpResponse:Dd}=kr(),Zr=ko(),Ko=Ur(),{lsCacheSym:Pd,chindingsSym:Xo,writeSym:Jo,serializersSym:Qo,formatOptsSym:Yo,endSym:qd,stringifiersSym:Zo,stringifySym:es,stringifySafeSym:en,wildcardFirstSym:ts,nestedKeySym:jd,formattersSym:rs,messageKeySym:Nd,errorKeySym:Md,nestedKeyStrSym:$d,msgPrefixSym:Nt}=Ce(),{isMainThread:Cd}=require("worker_threads"),Wd=Xr();function Be(){}o(Be,"noop");function Bd(e,t){if(!t)return r;return o(function(...i){t.call(this,i,r,e)},"hookWrappedLog");function r(n,...i){if(typeof n=="object"){let s=n;n!==null&&(n.method&&n.headers&&n.socket?n=Id(n):typeof n.setHeader=="function"&&(n=Dd(n)));let l;s===null&&i.length===0?l=[null]:(s=i.shift(),l=i),typeof this[Nt]=="string"&&s!==void 0&&s!==null&&(s=this[Nt]+s),this[Jo](n,Ho(s,l,this[Yo]),e)}else{let s=n===void 0?i.shift():n;typeof this[Nt]=="string"&&s!==void 0&&s!==null&&(s=this[Nt]+s),this[Jo](null,Ho(s,i,this[Yo]),e)}}}o(Bd,"genLog");function Qr(e){let t="",r=0,n=!1,i=255,s=e.length;if(s>100)return JSON.stringify(e);for(var l=0;l<s&&i>=32;l++)i=e.charCodeAt(l),(i===34||i===92)&&(t+=e.slice(r,l)+"\\",r=l,n=!0);return n?t+=e.slice(r):t=e,i<32?JSON.stringify(e):'"'+t+'"'}o(Qr,"asString");function Fd(e,t,r,n){let i=this[es],s=this[en],l=this[Zo],f=this[qd],h=this[Xo],u=this[Qo],a=this[rs],d=this[Nd],b=this[Md],p=this[Pd][r]+n;p=p+h;let c;a.log&&(e=a.log(e));let y=l[ts],w="";for(let _ in e)if(c=e[_],Object.prototype.hasOwnProperty.call(e,_)&&c!==void 0){u[_]?c=u[_](c):_===b&&u.err&&(c=u.err(c));let S=l[_]||y;switch(typeof c){case"undefined":case"function":continue;case"number":Number.isFinite(c)===!1&&(c=null);case"boolean":S&&(c=S(c));break;case"string":c=(S||Qr)(c);break;default:c=(S||i)(c,s)}if(c===void 0)continue;let E=Qr(_);w+=","+E+":"+c}let m="";if(t!==void 0){c=u[d]?u[d](t):t;let _=l[d]||y;switch(typeof c){case"function":break;case"number":Number.isFinite(c)===!1&&(c=null);case"boolean":_&&(c=_(c)),m=',"'+d+'":'+c;break;case"string":c=(_||Qr)(c),m=',"'+d+'":'+c;break;default:c=(_||i)(c,s),m=',"'+d+'":'+c}}return this[jd]&&w?p+this[$d]+w.slice(1)+"}"+m+f:p+w+m+f}o(Fd,"asJson");function Ud(e,t){let r,n=e[Xo],i=e[es],s=e[en],l=e[Zo],f=l[ts],h=e[Qo],u=e[rs].bindings;t=u(t);for(let a in t)if(r=t[a],(a!=="level"&&a!=="serializers"&&a!=="formatters"&&a!=="customLevels"&&t.hasOwnProperty(a)&&r!==void 0)===!0){if(r=h[a]?h[a](r):r,r=(l[a]||f||i)(r,s),r===void 0)continue;n+=',"'+a+'":'+r}return n}o(Ud,"asChindings");function Vd(e){return e.write!==e.constructor.prototype.write}o(Vd,"hasBeenTampered");var Gd=process.env.NODE_V8_COVERAGE||process.env.V8_COVERAGE;function Mt(e){let t=new Zr(e);return t.on("error",r),!Gd&&!e.sync&&Cd&&(Ko.register(t,zd),t.on("close",function(){Ko.unregister(t)})),t;function r(n){if(n.code==="EPIPE"){t.write=Be,t.end=Be,t.flushSync=Be,t.destroy=Be;return}t.removeListener("error",r),t.emit("error",n)}o(r,"filterBrokenPipe")}o(Mt,"buildSafeSonicBoom");function zd(e,t){e.destroyed||(t==="beforeExit"?(e.flush(),e.on("drain",function(){e.end()})):e.flushSync())}o(zd,"autoEnd");function Hd(e){return o(function(r,n,i={},s){if(typeof i=="string")s=Mt({dest:i}),i={};else if(typeof s=="string"){if(i&&i.transport)throw Error("only one of option.transport or stream can be specified");s=Mt({dest:s})}else if(i instanceof Zr||i.writable||i._writableState)s=i,i={};else if(i.transport){if(i.transport instanceof Zr||i.transport.writable||i.transport._writableState)throw Error("option.transport do not allow stream, please pass to option directly. e.g. pino(transport)");if(i.transport.targets&&i.transport.targets.length&&i.formatters&&typeof i.formatters.level=="function")throw Error("option.transport.targets do not allow custom level formatters");let h;i.customLevels&&(h=i.useOnlyCustomLevels?i.customLevels:Object.assign({},i.levels,i.customLevels)),s=Wd({caller:n,...i.transport,levels:h})}if(i=Object.assign({},e,i),i.serializers=Object.assign({},e.serializers,i.serializers),i.formatters=Object.assign({},e.formatters,i.formatters),i.prettyPrint)throw new Error("prettyPrint option is no longer supported, see the pino-pretty package (https://github.com/pinojs/pino-pretty)");let{enabled:l,onChild:f}=i;return l===!1&&(i.level="silent"),f||(i.onChild=Be),s||(Vd(process.stdout)?s=process.stdout:s=Mt({fd:process.stdout.fd||1})),{opts:i,stream:s}},"normalizeArgs")}o(Hd,"createArgsNormalizer");function Kd(e,t){try{return JSON.stringify(e)}catch{try{return(t||this[en])(e)}catch{return'"[unable to serialize, circular reference is too complex to analyze]"'}}}o(Kd,"stringify");function Jd(e,t,r){return{level:e,bindings:t,log:r}}o(Jd,"buildFormatters");function Yd(e){let t=Number(e);return typeof e=="string"&&Number.isFinite(t)?t:e===void 0?1:e}o(Yd,"normalizeDestFileDescriptor");ns.exports={noop:Be,buildSafeSonicBoom:Mt,asChindings:Ud,asJson:Fd,genLog:Bd,createArgsNormalizer:Hd,stringify:Kd,buildFormatters:Jd,normalizeDestFileDescriptor:Yd}});var Ct=R((AS,is)=>{var Xd={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},Qd={ASC:"ASC",DESC:"DESC"};is.exports={DEFAULT_LEVELS:Xd,SORTING_ORDER:Qd}});var nn=R((xS,fs)=>{"use strict";var{lsCacheSym:Zd,levelValSym:tn,useOnlyCustomLevelsSym:eh,streamSym:th,formattersSym:rh,hooksSym:nh,levelCompSym:os}=Ce(),{noop:ih,genLog:xe}=$t(),{DEFAULT_LEVELS:oe,SORTING_ORDER:ss}=Ct(),ls={fatal:e=>{let t=xe(oe.fatal,e);return function(...r){let n=this[th];if(t.call(this,...r),typeof n.flushSync=="function")try{n.flushSync()}catch{}}},error:e=>xe(oe.error,e),warn:e=>xe(oe.warn,e),info:e=>xe(oe.info,e),debug:e=>xe(oe.debug,e),trace:e=>xe(oe.trace,e)},rn=Object.keys(oe).reduce((e,t)=>(e[oe[t]]=t,e),{}),oh=Object.keys(rn).reduce((e,t)=>(e[t]='{"level":'+Number(t),e),{});function sh(e){let t=e[rh].level,{labels:r}=e.levels,n={};for(let i in r){let s=t(r[i],Number(i));n[i]=JSON.stringify(s).slice(0,-1)}return e[Zd]=n,e}o(sh,"genLsCache");function lh(e,t){if(t)return!1;switch(e){case"fatal":case"error":case"warn":case"info":case"debug":case"trace":return!0;default:return!1}}o(lh,"isStandardLevel");function fh(e){let{labels:t,values:r}=this.levels;if(typeof e=="number"){if(t[e]===void 0)throw Error("unknown level value"+e);e=t[e]}if(r[e]===void 0)throw Error("unknown level "+e);let n=this[tn],i=this[tn]=r[e],s=this[eh],l=this[os],f=this[nh].logMethod;for(let h in r){if(l(r[h],i)===!1){this[h]=ih;continue}this[h]=lh(h,s)?ls[h](f):xe(r[h],f)}this.emit("level-change",e,i,t[n],n,this)}o(fh,"setLevel");function uh(e){let{levels:t,levelVal:r}=this;return t&&t.labels?t.labels[r]:""}o(uh,"getLevel");function ah(e){let{values:t}=this.levels,r=t[e];return r!==void 0&&this[os](r,this[tn])}o(ah,"isLevelEnabled");function ch(e,t,r){return e===ss.DESC?t<=r:t>=r}o(ch,"compareLevel");function dh(e){return typeof e=="string"?ch.bind(null,e):e}o(dh,"genLevelComparison");function hh(e=null,t=!1){let r=e?Object.keys(e).reduce((s,l)=>(s[e[l]]=l,s),{}):null,n=Object.assign(Object.create(Object.prototype,{Infinity:{value:"silent"}}),t?null:rn,r),i=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),t?null:oe,e);return{labels:n,values:i}}o(hh,"mappings");function ph(e,t,r){if(typeof e=="number"){if(![].concat(Object.keys(t||{}).map(s=>t[s]),r?[]:Object.keys(rn).map(s=>+s),1/0).includes(e))throw Error(`default level:${e} must be included in custom levels`);return}let n=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),r?null:oe,t);if(!(e in n))throw Error(`default level:${e} must be included in custom levels`)}o(ph,"assertDefaultLevelFound");function yh(e,t){let{labels:r,values:n}=e;for(let i in t){if(i in n)throw Error("levels cannot be overridden");if(t[i]in r)throw Error("pre-existing level values cannot be used for new levels")}}o(yh,"assertNoLevelCollisions");function bh(e){if(typeof e!="function"&&!(typeof e=="string"&&Object.values(ss).includes(e)))throw new Error('Levels comparison should be one of "ASC", "DESC" or "function" type')}o(bh,"assertLevelComparison");fs.exports={initialLsCache:oh,genLsCache:sh,levelMethods:ls,getLevel:uh,setLevel:fh,isLevelEnabled:ah,mappings:hh,assertNoLevelCollisions:yh,assertDefaultLevelFound:ph,genLevelComparison:dh,assertLevelComparison:bh}});var on=R((OS,us)=>{"use strict";us.exports={version:"9.3.2"}});var _s=R((LS,ms)=>{"use strict";var{EventEmitter:gh}=require("node:events"),{lsCacheSym:wh,levelValSym:mh,setLevelSym:ln,getLevelSym:as,chindingsSym:fn,parsedChindingsSym:_h,mixinSym:Sh,asJsonSym:ys,writeSym:Eh,mixinMergeStrategySym:Rh,timeSym:Ah,timeSliceIndexSym:xh,streamSym:bs,serializersSym:Te,formattersSym:sn,errorKeySym:Th,messageKeySym:Oh,useOnlyCustomLevelsSym:vh,needsMetadataGsym:Lh,redactFmtSym:kh,stringifySym:Ih,formatOptsSym:Dh,stringifiersSym:Ph,msgPrefixSym:cs}=Ce(),{getLevel:qh,setLevel:jh,isLevelEnabled:Nh,mappings:Mh,initialLsCache:$h,genLsCache:Ch,assertNoLevelCollisions:Wh}=nn(),{asChindings:gs,asJson:Bh,buildFormatters:ds,stringify:hs}=$t(),{version:Fh}=on(),Uh=$r(),Vh=class{static{o(this,"Pino")}},ws={constructor:Vh,child:Gh,bindings:zh,setBindings:Hh,flush:Xh,isLevelEnabled:Nh,version:Fh,get level(){return this[as]()},set level(e){this[ln](e)},get levelVal(){return this[mh]},set levelVal(e){throw Error("levelVal is read-only")},[wh]:$h,[Eh]:Jh,[ys]:Bh,[as]:qh,[ln]:jh};Object.setPrototypeOf(ws,gh.prototype);ms.exports=function(){return Object.create(ws)};var ps=o(e=>e,"resetChildingsFormatter");function Gh(e,t){if(!e)throw Error("missing bindings for child Pino");t=t||{};let r=this[Te],n=this[sn],i=Object.create(this);if(t.hasOwnProperty("serializers")===!0){i[Te]=Object.create(null);for(let a in r)i[Te][a]=r[a];let h=Object.getOwnPropertySymbols(r);for(var s=0;s<h.length;s++){let a=h[s];i[Te][a]=r[a]}for(let a in t.serializers)i[Te][a]=t.serializers[a];let u=Object.getOwnPropertySymbols(t.serializers);for(var l=0;l<u.length;l++){let a=u[l];i[Te][a]=t.serializers[a]}}else i[Te]=r;if(t.hasOwnProperty("formatters")){let{level:h,bindings:u,log:a}=t.formatters;i[sn]=ds(h||n.level,u||ps,a||n.log)}else i[sn]=ds(n.level,ps,n.log);if(t.hasOwnProperty("customLevels")===!0&&(Wh(this.levels,t.customLevels),i.levels=Mh(t.customLevels,i[vh]),Ch(i)),typeof t.redact=="object"&&t.redact!==null||Array.isArray(t.redact)){i.redact=t.redact;let h=Uh(i.redact,hs),u={stringify:h[kh]};i[Ih]=hs,i[Ph]=h,i[Dh]=u}typeof t.msgPrefix=="string"&&(i[cs]=(this[cs]||"")+t.msgPrefix),i[fn]=gs(i,e);let f=t.level||this.level;return i[ln](f),this.onChild(i),i}o(Gh,"child");function zh(){let t=`{${this[fn].substr(1)}}`,r=JSON.parse(t);return delete r.pid,delete r.hostname,r}o(zh,"bindings");function Hh(e){let t=gs(this,e);this[fn]=t,delete this[_h]}o(Hh,"setBindings");function Kh(e,t){return Object.assign(t,e)}o(Kh,"defaultMixinMergeStrategy");function Jh(e,t,r){let n=this[Ah](),i=this[Sh],s=this[Th],l=this[Oh],f=this[Rh]||Kh,h;e==null?h={}:e instanceof Error?(h={[s]:e},t===void 0&&(t=e.message)):(h=e,t===void 0&&e[l]===void 0&&e[s]&&(t=e[s].message)),i&&(h=f(h,i(h,r,this)));let u=this[ys](h,t,r,n),a=this[bs];a[Lh]===!0&&(a.lastLevel=r,a.lastObj=h,a.lastMsg=t,a.lastTime=n.slice(this[xh]),a.lastLogger=this),a.write(u)}o(Jh,"write");function Yh(){}o(Yh,"noop");function Xh(e){if(e!=null&&typeof e!="function")throw Error("callback must be a function");let t=this[bs];typeof t.flush=="function"?t.flush(e||Yh):e&&e()}o(Xh,"flush")});var As=R((dn,Rs)=>{"use strict";var{hasOwnProperty:ot}=Object.prototype,ve=cn();ve.configure=cn;ve.stringify=ve;ve.default=ve;dn.stringify=ve;dn.configure=cn;Rs.exports=ve;var Qh=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function be(e){return e.length<5e3&&!Qh.test(e)?`"${e}"`:JSON.stringify(e)}o(be,"strEscape");function un(e,t){if(e.length>200||t)return e.sort(t);for(let r=1;r<e.length;r++){let n=e[r],i=r;for(;i!==0&&e[i-1]>n;)e[i]=e[i-1],i--;e[i]=n}return e}o(un,"sort");var Zh=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function an(e){return Zh.call(e)!==void 0&&e.length!==0}o(an,"isTypedArrayWithEntries");function Ss(e,t,r){e.length<r&&(r=e.length);let n=t===","?"":" ",i=`"0":${n}${e[0]}`;for(let s=1;s<r;s++)i+=`${t}"${s}":${n}${e[s]}`;return i}o(Ss,"stringifyTypedArray");function ep(e){if(ot.call(e,"circularValue")){let t=e.circularValue;if(typeof t=="string")return`"${t}"`;if(t==null)return t;if(t===Error||t===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}o(ep,"getCircularValueOption");function tp(e){let t;if(ot.call(e,"deterministic")&&(t=e.deterministic,typeof t!="boolean"&&typeof t!="function"))throw new TypeError('The "deterministic" argument must be of type boolean or comparator function');return t===void 0?!0:t}o(tp,"getDeterministicOption");function rp(e,t){let r;if(ot.call(e,t)&&(r=e[t],typeof r!="boolean"))throw new TypeError(`The "${t}" argument must be of type boolean`);return r===void 0?!0:r}o(rp,"getBooleanOption");function Es(e,t){let r;if(ot.call(e,t)){if(r=e[t],typeof r!="number")throw new TypeError(`The "${t}" argument must be of type number`);if(!Number.isInteger(r))throw new TypeError(`The "${t}" argument must be an integer`);if(r<1)throw new RangeError(`The "${t}" argument must be >= 1`)}return r===void 0?1/0:r}o(Es,"getPositiveIntegerOption");function Oe(e){return e===1?"1 item":`${e} items`}o(Oe,"getItemCount");function np(e){let t=new Set;for(let r of e)(typeof r=="string"||typeof r=="number")&&t.add(String(r));return t}o(np,"getUniqueReplacerSet");function ip(e){if(ot.call(e,"strict")){let t=e.strict;if(typeof t!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(t)return r=>{let n=`Object can not safely be stringified. Received type ${typeof r}`;throw typeof r!="function"&&(n+=` (${r.toString()})`),new Error(n)}}}o(ip,"getStrictOption");function cn(e){e={...e};let t=ip(e);t&&(e.bigint===void 0&&(e.bigint=!1),"circularValue"in e||(e.circularValue=Error));let r=ep(e),n=rp(e,"bigint"),i=tp(e),s=typeof i=="function"?i:void 0,l=Es(e,"maximumDepth"),f=Es(e,"maximumBreadth");function h(p,c,y,w,m,_){let S=c[p];switch(typeof S=="object"&&S!==null&&typeof S.toJSON=="function"&&(S=S.toJSON(p)),S=w.call(c,p,S),typeof S){case"string":return be(S);case"object":{if(S===null)return"null";if(y.indexOf(S)!==-1)return r;let E="",x=",",O=_;if(Array.isArray(S)){if(S.length===0)return"[]";if(l<y.length+1)return'"[Array]"';y.push(S),m!==""&&(_+=m,E+=`
${_}`,x=`,
${_}`);let C=Math.min(S.length,f),M=0;for(;M<C-1;M++){let Ae=h(String(M),S,y,w,m,_);E+=Ae!==void 0?Ae:"null",E+=x}let K=h(String(M),S,y,w,m,_);if(E+=K!==void 0?K:"null",S.length-1>f){let Ae=S.length-f-1;E+=`${x}"... ${Oe(Ae)} not stringified"`}return m!==""&&(E+=`
${O}`),y.pop(),`[${E}]`}let T=Object.keys(S),k=T.length;if(k===0)return"{}";if(l<y.length+1)return'"[Object]"';let A="",D="";m!==""&&(_+=m,x=`,
${_}`,A=" ");let F=Math.min(k,f);i&&!an(S)&&(T=un(T,s)),y.push(S);for(let C=0;C<F;C++){let M=T[C],K=h(M,S,y,w,m,_);K!==void 0&&(E+=`${D}${be(M)}:${A}${K}`,D=x)}if(k>f){let C=k-f;E+=`${D}"...":${A}"${Oe(C)} not stringified"`,D=x}return m!==""&&D.length>1&&(E=`
${_}${E}
${O}`),y.pop(),`{${E}}`}case"number":return isFinite(S)?String(S):t?t(S):"null";case"boolean":return S===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(S);default:return t?t(S):void 0}}o(h,"stringifyFnReplacer");function u(p,c,y,w,m,_){switch(typeof c=="object"&&c!==null&&typeof c.toJSON=="function"&&(c=c.toJSON(p)),typeof c){case"string":return be(c);case"object":{if(c===null)return"null";if(y.indexOf(c)!==-1)return r;let S=_,E="",x=",";if(Array.isArray(c)){if(c.length===0)return"[]";if(l<y.length+1)return'"[Array]"';y.push(c),m!==""&&(_+=m,E+=`
${_}`,x=`,
${_}`);let k=Math.min(c.length,f),A=0;for(;A<k-1;A++){let F=u(String(A),c[A],y,w,m,_);E+=F!==void 0?F:"null",E+=x}let D=u(String(A),c[A],y,w,m,_);if(E+=D!==void 0?D:"null",c.length-1>f){let F=c.length-f-1;E+=`${x}"... ${Oe(F)} not stringified"`}return m!==""&&(E+=`
${S}`),y.pop(),`[${E}]`}y.push(c);let O="";m!==""&&(_+=m,x=`,
${_}`,O=" ");let T="";for(let k of w){let A=u(k,c[k],y,w,m,_);A!==void 0&&(E+=`${T}${be(k)}:${O}${A}`,T=x)}return m!==""&&T.length>1&&(E=`
${_}${E}
${S}`),y.pop(),`{${E}}`}case"number":return isFinite(c)?String(c):t?t(c):"null";case"boolean":return c===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(c);default:return t?t(c):void 0}}o(u,"stringifyArrayReplacer");function a(p,c,y,w,m){switch(typeof c){case"string":return be(c);case"object":{if(c===null)return"null";if(typeof c.toJSON=="function"){if(c=c.toJSON(p),typeof c!="object")return a(p,c,y,w,m);if(c===null)return"null"}if(y.indexOf(c)!==-1)return r;let _=m;if(Array.isArray(c)){if(c.length===0)return"[]";if(l<y.length+1)return'"[Array]"';y.push(c),m+=w;let A=`
${m}`,D=`,
${m}`,F=Math.min(c.length,f),C=0;for(;C<F-1;C++){let K=a(String(C),c[C],y,w,m);A+=K!==void 0?K:"null",A+=D}let M=a(String(C),c[C],y,w,m);if(A+=M!==void 0?M:"null",c.length-1>f){let K=c.length-f-1;A+=`${D}"... ${Oe(K)} not stringified"`}return A+=`
${_}`,y.pop(),`[${A}]`}let S=Object.keys(c),E=S.length;if(E===0)return"{}";if(l<y.length+1)return'"[Object]"';m+=w;let x=`,
${m}`,O="",T="",k=Math.min(E,f);an(c)&&(O+=Ss(c,x,f),S=S.slice(c.length),k-=c.length,T=x),i&&(S=un(S,s)),y.push(c);for(let A=0;A<k;A++){let D=S[A],F=a(D,c[D],y,w,m);F!==void 0&&(O+=`${T}${be(D)}: ${F}`,T=x)}if(E>f){let A=E-f;O+=`${T}"...": "${Oe(A)} not stringified"`,T=x}return T!==""&&(O=`
${m}${O}
${_}`),y.pop(),`{${O}}`}case"number":return isFinite(c)?String(c):t?t(c):"null";case"boolean":return c===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(c);default:return t?t(c):void 0}}o(a,"stringifyIndent");function d(p,c,y){switch(typeof c){case"string":return be(c);case"object":{if(c===null)return"null";if(typeof c.toJSON=="function"){if(c=c.toJSON(p),typeof c!="object")return d(p,c,y);if(c===null)return"null"}if(y.indexOf(c)!==-1)return r;let w="",m=c.length!==void 0;if(m&&Array.isArray(c)){if(c.length===0)return"[]";if(l<y.length+1)return'"[Array]"';y.push(c);let O=Math.min(c.length,f),T=0;for(;T<O-1;T++){let A=d(String(T),c[T],y);w+=A!==void 0?A:"null",w+=","}let k=d(String(T),c[T],y);if(w+=k!==void 0?k:"null",c.length-1>f){let A=c.length-f-1;w+=`,"... ${Oe(A)} not stringified"`}return y.pop(),`[${w}]`}let _=Object.keys(c),S=_.length;if(S===0)return"{}";if(l<y.length+1)return'"[Object]"';let E="",x=Math.min(S,f);m&&an(c)&&(w+=Ss(c,",",f),_=_.slice(c.length),x-=c.length,E=","),i&&(_=un(_,s)),y.push(c);for(let O=0;O<x;O++){let T=_[O],k=d(T,c[T],y);k!==void 0&&(w+=`${E}${be(T)}:${k}`,E=",")}if(S>f){let O=S-f;w+=`${E}"...":"${Oe(O)} not stringified"`}return y.pop(),`{${w}}`}case"number":return isFinite(c)?String(c):t?t(c):"null";case"boolean":return c===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(c);default:return t?t(c):void 0}}o(d,"stringifySimple");function b(p,c,y){if(arguments.length>1){let w="";if(typeof y=="number"?w=" ".repeat(Math.min(y,10)):typeof y=="string"&&(w=y.slice(0,10)),c!=null){if(typeof c=="function")return h("",{"":p},[],c,w,"");if(Array.isArray(c))return u("",p,[],np(c),w,"")}if(w.length!==0)return a("",p,[],w,"")}return d("",p,[])}return o(b,"stringify"),b}o(cn,"configure")});var Os=R((DS,Ts)=>{"use strict";var hn=Symbol.for("pino.metadata"),{DEFAULT_LEVELS:xs}=Ct(),op=xs.info;function sp(e,t){let r=0;e=e||[],t=t||{dedupe:!1};let n=Object.create(xs);n.silent=1/0,t.levels&&typeof t.levels=="object"&&Object.keys(t.levels).forEach(d=>{n[d]=t.levels[d]});let i={write:s,add:h,emit:l,flushSync:f,end:u,minLevel:0,streams:[],clone:a,[hn]:!0,streamLevels:n};return Array.isArray(e)?e.forEach(h,i):h.call(i,e),e=null,i;function s(d){let b,p=this.lastLevel,{streams:c}=this,y=0,w;for(let m=fp(c.length,t.dedupe);ap(m,c.length,t.dedupe);m=up(m,t.dedupe))if(b=c[m],b.level<=p){if(y!==0&&y!==b.level)break;if(w=b.stream,w[hn]){let{lastTime:_,lastMsg:S,lastObj:E,lastLogger:x}=this;w.lastLevel=p,w.lastTime=_,w.lastMsg=S,w.lastObj=E,w.lastLogger=x}w.write(d),t.dedupe&&(y=b.level)}else if(!t.dedupe)break}o(s,"write");function l(...d){for(let{stream:b}of this.streams)typeof b.emit=="function"&&b.emit(...d)}o(l,"emit");function f(){for(let{stream:d}of this.streams)typeof d.flushSync=="function"&&d.flushSync()}o(f,"flushSync");function h(d){if(!d)return i;let b=typeof d.write=="function"||d.stream,p=d.write?d:d.stream;if(!b)throw Error("stream object needs to implement either StreamEntry or DestinationStream interface");let{streams:c,streamLevels:y}=this,w;typeof d.levelVal=="number"?w=d.levelVal:typeof d.level=="string"?w=y[d.level]:typeof d.level=="number"?w=d.level:w=op;let m={stream:p,level:w,levelVal:void 0,id:r++};return c.unshift(m),c.sort(lp),this.minLevel=c[0].level,i}o(h,"add");function u(){for(let{stream:d}of this.streams)typeof d.flushSync=="function"&&d.flushSync(),d.end()}o(u,"end");function a(d){let b=new Array(this.streams.length);for(let p=0;p<b.length;p++)b[p]={level:d,stream:this.streams[p].stream};return{write:s,add:h,minLevel:d,streams:b,clone:a,emit:l,flushSync:f,[hn]:!0}}o(a,"clone")}o(sp,"multistream");function lp(e,t){return e.level-t.level}o(lp,"compareByLevel");function fp(e,t){return t?e-1:0}o(fp,"initLoopVar");function up(e,t){return t?e-1:e+1}o(up,"adjustLoopVar");function ap(e,t,r){return r?e>=0:e<t}o(ap,"checkLoopVar");Ts.exports=sp});var Ws=R((qS,J)=>{function Wt(e){try{return require("path").join(`${process.cwd()}${require("path").sep}dist`.replace(/\\/g,"/"),e)}catch{return new Function("p","return new URL(p, import.meta.url).pathname")(e)}}o(Wt,"pinoBundlerAbsolutePath");globalThis.__bundlerPathsOverrides={...globalThis.__bundlerPathsOverrides||{},"thread-stream-worker":Wt("./thread-stream-worker.js"),"pino-worker":Wt("./pino-worker.js"),"pino/file":Wt("./pino-file.js"),"pino-pretty":Wt("./pino-pretty.js")};var cp=require("node:os"),js=kr(),dp=Ir(),hp=$r(),Ns=_o(),pp=_s(),Ms=Ce(),{configure:yp}=As(),{assertDefaultLevelFound:bp,mappings:$s,genLsCache:gp,genLevelComparison:wp,assertLevelComparison:mp}=nn(),{DEFAULT_LEVELS:_p,SORTING_ORDER:Sp}=Ct(),{createArgsNormalizer:Ep,asChindings:Rp,buildSafeSonicBoom:vs,buildFormatters:Ap,stringify:pn,normalizeDestFileDescriptor:Ls,noop:xp}=$t(),{version:Tp}=on(),{chindingsSym:ks,redactFmtSym:Op,serializersSym:Is,timeSym:vp,timeSliceIndexSym:Lp,streamSym:kp,stringifySym:Ds,stringifySafeSym:yn,stringifiersSym:Ps,setLevelSym:Ip,endSym:Dp,formatOptsSym:Pp,messageKeySym:qp,errorKeySym:jp,nestedKeySym:Np,mixinSym:Mp,levelCompSym:$p,useOnlyCustomLevelsSym:Cp,formattersSym:qs,hooksSym:Wp,nestedKeyStrSym:Bp,mixinMergeStrategySym:Fp,msgPrefixSym:Up}=Ms,{epochTime:Cs,nullTime:Vp}=Ns,{pid:Gp}=process,zp=cp.hostname(),Hp=js.err,Kp={level:"info",levelComparison:Sp.ASC,levels:_p,messageKey:"msg",errorKey:"err",nestedKey:null,enabled:!0,base:{pid:Gp,hostname:zp},serializers:Object.assign(Object.create(null),{err:Hp}),formatters:Object.assign(Object.create(null),{bindings(e){return e},level(e,t){return{level:t}}}),hooks:{logMethod:void 0},timestamp:Cs,name:void 0,redact:null,customLevels:null,useOnlyCustomLevels:!1,depthLimit:5,edgeLimit:100},Jp=Ep(Kp),Yp=Object.assign(Object.create(null),js);function bn(...e){let t={},{opts:r,stream:n}=Jp(t,dp(),...e),{redact:i,crlf:s,serializers:l,timestamp:f,messageKey:h,errorKey:u,nestedKey:a,base:d,name:b,level:p,customLevels:c,levelComparison:y,mixin:w,mixinMergeStrategy:m,useOnlyCustomLevels:_,formatters:S,hooks:E,depthLimit:x,edgeLimit:O,onChild:T,msgPrefix:k}=r,A=yp({maximumDepth:x,maximumBreadth:O}),D=Ap(S.level,S.bindings,S.log),F=pn.bind({[yn]:A}),C=i?hp(i,F):{},M=i?{stringify:C[Op]}:{stringify:F},K="}"+(s?`\r
`:`
`),Ae=Rp.bind(null,{[ks]:"",[Is]:l,[Ps]:C,[Ds]:pn,[yn]:A,[qs]:D}),_r="";d!==null&&(b===void 0?_r=Ae(d):_r=Ae(Object.assign({},d,{name:b})));let vi=f instanceof Function?f:f?Cs:Vp,na=vi().indexOf(":")+1;if(_&&!c)throw Error("customLevels is required if useOnlyCustomLevels is set true");if(w&&typeof w!="function")throw Error(`Unknown mixin type "${typeof w}" - expected "function"`);if(k&&typeof k!="string")throw Error(`Unknown msgPrefix type "${typeof k}" - expected "string"`);bp(p,c,_);let Li=$s(c,_);typeof n.emit=="function"&&n.emit("message",{code:"PINO_CONFIG",config:{levels:Li,messageKey:h,errorKey:u}}),mp(y);let ia=wp(y);return Object.assign(t,{levels:Li,[$p]:ia,[Cp]:_,[kp]:n,[vp]:vi,[Lp]:na,[Ds]:pn,[yn]:A,[Ps]:C,[Dp]:K,[Pp]:M,[qp]:h,[jp]:u,[Np]:a,[Bp]:a?`,${JSON.stringify(a)}:{`:"",[Is]:l,[Mp]:w,[Fp]:m,[ks]:_r,[qs]:D,[Wp]:E,silent:xp,onChild:T,[Up]:k}),Object.setPrototypeOf(t,pp()),gp(t),t[Ip](p),t}o(bn,"pino");J.exports=bn;J.exports.destination=(e=process.stdout.fd)=>typeof e=="object"?(e.dest=Ls(e.dest||process.stdout.fd),vs(e)):vs({dest:Ls(e),minLength:0});J.exports.transport=Xr();J.exports.multistream=Os();J.exports.levels=$s();J.exports.stdSerializers=Yp;J.exports.stdTimeFunctions=Object.assign({},Ns);J.exports.symbols=Ms;J.exports.version=Tp;J.exports.default=bn;J.exports.pino=bn});var Vs=R((NS,Us)=>{"use strict";var{Transform:Xp}=require("stream"),{StringDecoder:Qp}=require("string_decoder"),ge=Symbol("last"),Bt=Symbol("decoder");function Zp(e,t,r){let n;if(this.overflow){if(n=this[Bt].write(e).split(this.matcher),n.length===1)return r();n.shift(),this.overflow=!1}else this[ge]+=this[Bt].write(e),n=this[ge].split(this.matcher);this[ge]=n.pop();for(let i=0;i<n.length;i++)try{Fs(this,this.mapper(n[i]))}catch(s){return r(s)}if(this.overflow=this[ge].length>this.maxLength,this.overflow&&!this.skipOverflow){r(new Error("maximum buffer reached"));return}r()}o(Zp,"transform");function ey(e){if(this[ge]+=this[Bt].end(),this[ge])try{Fs(this,this.mapper(this[ge]))}catch(t){return e(t)}e()}o(ey,"flush");function Fs(e,t){t!==void 0&&e.push(t)}o(Fs,"push");function Bs(e){return e}o(Bs,"noop");function ty(e,t,r){switch(e=e||/\r?\n/,t=t||Bs,r=r||{},arguments.length){case 1:typeof e=="function"?(t=e,e=/\r?\n/):typeof e=="object"&&!(e instanceof RegExp)&&!e[Symbol.split]&&(r=e,e=/\r?\n/);break;case 2:typeof e=="function"?(r=t,t=e,e=/\r?\n/):typeof t=="object"&&(r=t,t=Bs)}r=Object.assign({},r),r.autoDestroy=!0,r.transform=Zp,r.flush=ey,r.readableObjectMode=!0;let n=new Xp(r);return n[ge]="",n[Bt]=new Qp("utf8"),n.matcher=e,n.mapper=t,n.maxLength=r.maxLength,n.skipOverflow=r.skipOverflow||!1,n.overflow=!1,n._destroy=function(i,s){this._writableState.errorEmitted=!1,s(i)},n}o(ty,"split");Us.exports=ty});var j=R(($S,Gs)=>{"use strict";Gs.exports={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,r){return e.slice(t,r)},Error,FunctionPrototypeCall(e,t,...r){return e.call(t,...r)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,r){return Object.defineProperty(e,t,r)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,r){return e.then(t,r)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,r){return e.slice(t,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,t,r){return e.set(t,r)},Boolean,Uint8Array}});var tl=R((ft,lt)=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});var Xs=new WeakMap,gn=new WeakMap;function P(e){let t=Xs.get(e);return console.assert(t!=null,"'this' is expected an Event object, but got",e),t}o(P,"pd");function zs(e){if(e.passiveListener!=null){typeof console<"u"&&typeof console.error=="function"&&console.error("Unable to preventDefault inside passive event listener invocation.",e.passiveListener);return}e.event.cancelable&&(e.canceled=!0,typeof e.event.preventDefault=="function"&&e.event.preventDefault())}o(zs,"setCancelFlag");function Fe(e,t){Xs.set(this,{eventTarget:e,event:t,eventPhase:2,currentTarget:e,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:t.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let r=Object.keys(t);for(let n=0;n<r.length;++n){let i=r[n];i in this||Object.defineProperty(this,i,Qs(i))}}o(Fe,"Event");Fe.prototype={get type(){return P(this).event.type},get target(){return P(this).eventTarget},get currentTarget(){return P(this).currentTarget},composedPath(){let e=P(this).currentTarget;return e==null?[]:[e]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return P(this).eventPhase},stopPropagation(){let e=P(this);e.stopped=!0,typeof e.event.stopPropagation=="function"&&e.event.stopPropagation()},stopImmediatePropagation(){let e=P(this);e.stopped=!0,e.immediateStopped=!0,typeof e.event.stopImmediatePropagation=="function"&&e.event.stopImmediatePropagation()},get bubbles(){return!!P(this).event.bubbles},get cancelable(){return!!P(this).event.cancelable},preventDefault(){zs(P(this))},get defaultPrevented(){return P(this).canceled},get composed(){return!!P(this).event.composed},get timeStamp(){return P(this).timeStamp},get srcElement(){return P(this).eventTarget},get cancelBubble(){return P(this).stopped},set cancelBubble(e){if(!e)return;let t=P(this);t.stopped=!0,typeof t.event.cancelBubble=="boolean"&&(t.event.cancelBubble=!0)},get returnValue(){return!P(this).canceled},set returnValue(e){e||zs(P(this))},initEvent(){}};Object.defineProperty(Fe.prototype,"constructor",{value:Fe,configurable:!0,writable:!0});typeof window<"u"&&typeof window.Event<"u"&&(Object.setPrototypeOf(Fe.prototype,window.Event.prototype),gn.set(window.Event.prototype,Fe));function Qs(e){return{get(){return P(this).event[e]},set(t){P(this).event[e]=t},configurable:!0,enumerable:!0}}o(Qs,"defineRedirectDescriptor");function ry(e){return{value(){let t=P(this).event;return t[e].apply(t,arguments)},configurable:!0,enumerable:!0}}o(ry,"defineCallDescriptor");function ny(e,t){let r=Object.keys(t);if(r.length===0)return e;function n(i,s){e.call(this,i,s)}o(n,"CustomEvent"),n.prototype=Object.create(e.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(let i=0;i<r.length;++i){let s=r[i];if(!(s in e.prototype)){let f=typeof Object.getOwnPropertyDescriptor(t,s).value=="function";Object.defineProperty(n.prototype,s,f?ry(s):Qs(s))}}return n}o(ny,"defineWrapper");function Zs(e){if(e==null||e===Object.prototype)return Fe;let t=gn.get(e);return t==null&&(t=ny(Zs(Object.getPrototypeOf(e)),e),gn.set(e,t)),t}o(Zs,"getWrapper");function iy(e,t){let r=Zs(Object.getPrototypeOf(t));return new r(e,t)}o(iy,"wrapEvent");function oy(e){return P(e).immediateStopped}o(oy,"isStopped");function sy(e,t){P(e).eventPhase=t}o(sy,"setEventPhase");function ly(e,t){P(e).currentTarget=t}o(ly,"setCurrentTarget");function Hs(e,t){P(e).passiveListener=t}o(Hs,"setPassiveListener");var el=new WeakMap,Ks=1,Js=2,Ft=3;function Ut(e){return e!==null&&typeof e=="object"}o(Ut,"isObject");function st(e){let t=el.get(e);if(t==null)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return t}o(st,"getListeners");function fy(e){return{get(){let r=st(this).get(e);for(;r!=null;){if(r.listenerType===Ft)return r.listener;r=r.next}return null},set(t){typeof t!="function"&&!Ut(t)&&(t=null);let r=st(this),n=null,i=r.get(e);for(;i!=null;)i.listenerType===Ft?n!==null?n.next=i.next:i.next!==null?r.set(e,i.next):r.delete(e):n=i,i=i.next;if(t!==null){let s={listener:t,listenerType:Ft,passive:!1,once:!1,next:null};n===null?r.set(e,s):n.next=s}},configurable:!0,enumerable:!0}}o(fy,"defineEventAttributeDescriptor");function wn(e,t){Object.defineProperty(e,`on${t}`,fy(t))}o(wn,"defineEventAttribute");function Ys(e){function t(){ee.call(this)}o(t,"CustomEventTarget"),t.prototype=Object.create(ee.prototype,{constructor:{value:t,configurable:!0,writable:!0}});for(let r=0;r<e.length;++r)wn(t.prototype,e[r]);return t}o(Ys,"defineCustomEventTarget");function ee(){if(this instanceof ee){el.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0]))return Ys(arguments[0]);if(arguments.length>0){let e=new Array(arguments.length);for(let t=0;t<arguments.length;++t)e[t]=arguments[t];return Ys(e)}throw new TypeError("Cannot call a class as a function")}o(ee,"EventTarget");ee.prototype={addEventListener(e,t,r){if(t==null)return;if(typeof t!="function"&&!Ut(t))throw new TypeError("'listener' should be a function or an object.");let n=st(this),i=Ut(r),l=(i?!!r.capture:!!r)?Ks:Js,f={listener:t,listenerType:l,passive:i&&!!r.passive,once:i&&!!r.once,next:null},h=n.get(e);if(h===void 0){n.set(e,f);return}let u=null;for(;h!=null;){if(h.listener===t&&h.listenerType===l)return;u=h,h=h.next}u.next=f},removeEventListener(e,t,r){if(t==null)return;let n=st(this),s=(Ut(r)?!!r.capture:!!r)?Ks:Js,l=null,f=n.get(e);for(;f!=null;){if(f.listener===t&&f.listenerType===s){l!==null?l.next=f.next:f.next!==null?n.set(e,f.next):n.delete(e);return}l=f,f=f.next}},dispatchEvent(e){if(e==null||typeof e.type!="string")throw new TypeError('"event.type" should be a string.');let t=st(this),r=e.type,n=t.get(r);if(n==null)return!0;let i=iy(this,e),s=null;for(;n!=null;){if(n.once?s!==null?s.next=n.next:n.next!==null?t.set(r,n.next):t.delete(r):s=n,Hs(i,n.passive?n.listener:null),typeof n.listener=="function")try{n.listener.call(this,i)}catch(l){typeof console<"u"&&typeof console.error=="function"&&console.error(l)}else n.listenerType!==Ft&&typeof n.listener.handleEvent=="function"&&n.listener.handleEvent(i);if(oy(i))break;n=n.next}return Hs(i,null),sy(i,0),ly(i,null),!i.defaultPrevented}};Object.defineProperty(ee.prototype,"constructor",{value:ee,configurable:!0,writable:!0});typeof window<"u"&&typeof window.EventTarget<"u"&&Object.setPrototypeOf(ee.prototype,window.EventTarget.prototype);ft.defineEventAttribute=wn;ft.EventTarget=ee;ft.default=ee;lt.exports=ee;lt.exports.EventTarget=lt.exports.default=ee;lt.exports.defineEventAttribute=wn});var Ue=R((at,ut)=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});var mn=tl(),we=class extends mn.EventTarget{static{o(this,"AbortSignal")}constructor(){throw super(),new TypeError("AbortSignal cannot be constructed directly")}get aborted(){let t=Vt.get(this);if(typeof t!="boolean")throw new TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return t}};mn.defineEventAttribute(we.prototype,"abort");function uy(){let e=Object.create(we.prototype);return mn.EventTarget.call(e),Vt.set(e,!1),e}o(uy,"createAbortSignal");function ay(e){Vt.get(e)===!1&&(Vt.set(e,!0),e.dispatchEvent({type:"abort"}))}o(ay,"abortSignal");var Vt=new WeakMap;Object.defineProperties(we.prototype,{aborted:{enumerable:!0}});typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(we.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});var me=class{static{o(this,"AbortController")}constructor(){nl.set(this,uy())}get signal(){return rl(this)}abort(){ay(rl(this))}},nl=new WeakMap;function rl(e){let t=nl.get(e);if(t==null)throw new TypeError(`Expected 'this' to be an 'AbortController' object, but got ${e===null?"null":typeof e}`);return t}o(rl,"getSignal");Object.defineProperties(me.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(me.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"});at.AbortController=me;at.AbortSignal=we;at.default=me;ut.exports=me;ut.exports.AbortController=ut.exports.default=me;ut.exports.AbortSignal=we});var V=R((BS,Sn)=>{"use strict";var cy=require("buffer"),{kResistStopPropagation:dy,SymbolDispose:hy}=j(),py=globalThis.AbortSignal||Ue().AbortSignal,yy=globalThis.AbortController||Ue().AbortController,by=Object.getPrototypeOf(async function(){}).constructor,il=globalThis.Blob||cy.Blob,gy=o(typeof il<"u"?function(t){return t instanceof il}:function(t){return!1},"isBlob"),ol=o((e,t)=>{if(e!==void 0&&(e===null||typeof e!="object"||!("aborted"in e)))throw new ERR_INVALID_ARG_TYPE(t,"AbortSignal",e)},"validateAbortSignal"),wy=o((e,t)=>{if(typeof e!="function")throw new ERR_INVALID_ARG_TYPE(t,"Function",e)},"validateFunction"),_n=class extends Error{static{o(this,"AggregateError")}constructor(t){if(!Array.isArray(t))throw new TypeError(`Expected input to be an Array, got ${typeof t}`);let r="";for(let n=0;n<t.length;n++)r+=`    ${t[n].stack}
`;super(r),this.name="AggregateError",this.errors=t}};Sn.exports={AggregateError:_n,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...r){t||(t=!0,e.apply(this,r))}},createDeferredPromise:function(){let e,t;return{promise:new Promise((n,i)=>{e=n,t=i}),resolve:e,reject:t}},promisify(e){return new Promise((t,r)=>{e((n,...i)=>n?r(n):t(...i))})},debuglog(){return function(){}},format(e,...t){return e.replace(/%([sdifj])/g,function(...[r,n]){let i=t.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(e){switch(typeof e){case"string":if(e.includes("'"))if(e.includes('"')){if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}else return`"${e}"`;return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}},types:{isAsyncFunction(e){return e instanceof by},isArrayBufferView(e){return ArrayBuffer.isView(e)}},isBlob:gy,deprecate(e,t){return e},addAbortListener:require("events").addAbortListener||o(function(t,r){if(t===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",t);ol(t,"signal"),wy(r,"listener");let n;return t.aborted?queueMicrotask(()=>r()):(t.addEventListener("abort",r,{__proto__:null,once:!0,[dy]:!0}),n=o(()=>{t.removeEventListener("abort",r)},"removeEventListener")),{__proto__:null,[hy](){var i;(i=n)===null||i===void 0||i()}}},"addAbortListener"),AbortSignalAny:py.any||o(function(t){if(t.length===1)return t[0];let r=new yy,n=o(()=>r.abort(),"abort");return t.forEach(i=>{ol(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{t.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal},"AbortSignalAny")};Sn.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var z=R((US,fl)=>{"use strict";var{format:my,inspect:Gt,AggregateError:_y}=V(),Sy=globalThis.AggregateError||_y,Ey=Symbol("kIsNodeError"),Ry=["string","function","number","object","Function","Object","boolean","bigint","symbol"],Ay=/^([A-Z][a-z0-9]*)+$/,xy="__node_internal_",zt={};function Le(e,t){if(!e)throw new zt.ERR_INTERNAL_ASSERTION(t)}o(Le,"assert");function sl(e){let t="",r=e.length,n=e[0]==="-"?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}o(sl,"addNumericalSeparator");function Ty(e,t,r){if(typeof t=="function")return Le(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);let n=(t.match(/%[dfijoOs]/g)||[]).length;return Le(n===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?t:my(t,...r)}o(Ty,"getMessage");function U(e,t,r){r||(r=Error);class n extends r{static{o(this,"NodeError")}constructor(...s){super(Ty(e,t,s))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=e,n.prototype[Ey]=!0,zt[e]=n}o(U,"E");function ll(e){let t=xy+e.name;return Object.defineProperty(e,"name",{value:t}),e}o(ll,"hideStackFrames");function Oy(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;let r=new Sy([t,e],t.message);return r.code=t.code,r}return e||t}o(Oy,"aggregateTwoErrors");var En=class extends Error{static{o(this,"AbortError")}constructor(t="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new zt.ERR_INVALID_ARG_TYPE("options","Object",r);super(t,r),this.code="ABORT_ERR",this.name="AbortError"}};U("ERR_ASSERTION","%s",Error);U("ERR_INVALID_ARG_TYPE",(e,t,r)=>{Le(typeof e=="string","'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";let i=[],s=[],l=[];for(let h of t)Le(typeof h=="string","All expected entries have to be of type string"),Ry.includes(h)?i.push(h.toLowerCase()):Ay.test(h)?s.push(h):(Le(h!=="object",'The value "object" should be written as "Object"'),l.push(h));if(s.length>0){let h=i.indexOf("object");h!==-1&&(i.splice(i,h,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let h=i.pop();n+=`one of type ${i.join(", ")}, or ${h}`}}(s.length>0||l.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let h=s.pop();n+=`an instance of ${s.join(", ")}, or ${h}`}}l.length>0&&(n+=" or ")}switch(l.length){case 0:break;case 1:l[0].toLowerCase()!==l[0]&&(n+="an "),n+=`${l[0]}`;break;case 2:n+=`one of ${l[0]} or ${l[1]}`;break;default:{let h=l.pop();n+=`one of ${l.join(", ")}, or ${h}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var f;if((f=r.constructor)!==null&&f!==void 0&&f.name)n+=`. Received an instance of ${r.constructor.name}`;else{let h=Gt(r,{depth:-1});n+=`. Received ${h}`}}else{let h=Gt(r,{colors:!1});h.length>25&&(h=`${h.slice(0,25)}...`),n+=`. Received type ${typeof r} (${h})`}return n},TypeError);U("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let n=Gt(t);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${n}`},TypeError);U("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${e} to be returned from the "${t}" function but got ${i}.`},TypeError);U("ERR_MISSING_ARGS",(...e)=>{Le(e.length>0,"At least one arg needs to be specified");let t,r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(n=>`"${n}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{let n=e.pop();t+=`The ${e.join(", ")}, and ${n} arguments`}break}return`${t} must be specified`},TypeError);U("ERR_OUT_OF_RANGE",(e,t,r)=>{Le(t,'Missing "range" argument');let n;return Number.isInteger(r)&&Math.abs(r)>2**32?n=sl(String(r)):typeof r=="bigint"?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=sl(n)),n+="n"):n=Gt(r),`The value of "${e}" is out of range. It must be ${t}. Received ${n}`},RangeError);U("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);U("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);U("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);U("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);U("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);U("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);U("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);U("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);U("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);U("ERR_STREAM_WRITE_AFTER_END","write after end",Error);U("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);fl.exports={AbortError:En,aggregateTwoErrors:ll(Oy),hideStackFrames:ll,codes:zt}});var Ge=R((GS,wl)=>{"use strict";var{ArrayIsArray:An,ArrayPrototypeIncludes:dl,ArrayPrototypeJoin:hl,ArrayPrototypeMap:vy,NumberIsInteger:xn,NumberIsNaN:Ly,NumberMAX_SAFE_INTEGER:ky,NumberMIN_SAFE_INTEGER:Iy,NumberParseInt:Dy,ObjectPrototypeHasOwnProperty:Py,RegExpPrototypeExec:pl,String:qy,StringPrototypeToUpperCase:jy,StringPrototypeTrim:Ny}=j(),{hideStackFrames:Y,codes:{ERR_SOCKET_BAD_PORT:My,ERR_INVALID_ARG_TYPE:G,ERR_INVALID_ARG_VALUE:Ve,ERR_OUT_OF_RANGE:ke,ERR_UNKNOWN_SIGNAL:ul}}=z(),{normalizeEncoding:$y}=V(),{isAsyncFunction:Cy,isArrayBufferView:Wy}=V().types,al={};function By(e){return e===(e|0)}o(By,"isInt32");function Fy(e){return e===e>>>0}o(Fy,"isUint32");var Uy=/^[0-7]+$/,Vy="must be a 32-bit unsigned integer or an octal string";function Gy(e,t,r){if(typeof e>"u"&&(e=r),typeof e=="string"){if(pl(Uy,e)===null)throw new Ve(t,e,Vy);e=Dy(e,8)}return yl(e,t),e}o(Gy,"parseFileMode");var zy=Y((e,t,r=Iy,n=ky)=>{if(typeof e!="number")throw new G(t,"number",e);if(!xn(e))throw new ke(t,"an integer",e);if(e<r||e>n)throw new ke(t,`>= ${r} && <= ${n}`,e)}),Hy=Y((e,t,r=-2147483648,n=2147483647)=>{if(typeof e!="number")throw new G(t,"number",e);if(!xn(e))throw new ke(t,"an integer",e);if(e<r||e>n)throw new ke(t,`>= ${r} && <= ${n}`,e)}),yl=Y((e,t,r=!1)=>{if(typeof e!="number")throw new G(t,"number",e);if(!xn(e))throw new ke(t,"an integer",e);let n=r?1:0,i=4294967295;if(e<n||e>i)throw new ke(t,`>= ${n} && <= ${i}`,e)});function Tn(e,t){if(typeof e!="string")throw new G(t,"string",e)}o(Tn,"validateString");function Ky(e,t,r=void 0,n){if(typeof e!="number")throw new G(t,"number",e);if(r!=null&&e<r||n!=null&&e>n||(r!=null||n!=null)&&Ly(e))throw new ke(t,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,e)}o(Ky,"validateNumber");var Jy=Y((e,t,r)=>{if(!dl(r,e)){let i="must be one of: "+hl(vy(r,s=>typeof s=="string"?`'${s}'`:qy(s)),", ");throw new Ve(t,e,i)}});function bl(e,t){if(typeof e!="boolean")throw new G(t,"boolean",e)}o(bl,"validateBoolean");function Rn(e,t,r){return e==null||!Py(e,t)?r:e[t]}o(Rn,"getOwnPropertyValueOrDefault");var Yy=Y((e,t,r=null)=>{let n=Rn(r,"allowArray",!1),i=Rn(r,"allowFunction",!1);if(!Rn(r,"nullable",!1)&&e===null||!n&&An(e)||typeof e!="object"&&(!i||typeof e!="function"))throw new G(t,"Object",e)}),Xy=Y((e,t)=>{if(e!=null&&typeof e!="object"&&typeof e!="function")throw new G(t,"a dictionary",e)}),Ht=Y((e,t,r=0)=>{if(!An(e))throw new G(t,"Array",e);if(e.length<r){let n=`must be longer than ${r}`;throw new Ve(t,e,n)}});function Qy(e,t){Ht(e,t);for(let r=0;r<e.length;r++)Tn(e[r],`${t}[${r}]`)}o(Qy,"validateStringArray");function Zy(e,t){Ht(e,t);for(let r=0;r<e.length;r++)bl(e[r],`${t}[${r}]`)}o(Zy,"validateBooleanArray");function eb(e,t){Ht(e,t);for(let r=0;r<e.length;r++){let n=e[r],i=`${t}[${r}]`;if(n==null)throw new G(i,"AbortSignal",n);gl(n,i)}}o(eb,"validateAbortSignalArray");function tb(e,t="signal"){if(Tn(e,t),al[e]===void 0)throw al[jy(e)]!==void 0?new ul(e+" (signals must use all capital letters)"):new ul(e)}o(tb,"validateSignalName");var rb=Y((e,t="buffer")=>{if(!Wy(e))throw new G(t,["Buffer","TypedArray","DataView"],e)});function nb(e,t){let r=$y(t),n=e.length;if(r==="hex"&&n%2!==0)throw new Ve("encoding",t,`is invalid for data of length ${n}`)}o(nb,"validateEncoding");function ib(e,t="Port",r=!0){if(typeof e!="number"&&typeof e!="string"||typeof e=="string"&&Ny(e).length===0||+e!==+e>>>0||e>65535||e===0&&!r)throw new My(t,e,r);return e|0}o(ib,"validatePort");var gl=Y((e,t)=>{if(e!==void 0&&(e===null||typeof e!="object"||!("aborted"in e)))throw new G(t,"AbortSignal",e)}),ob=Y((e,t)=>{if(typeof e!="function")throw new G(t,"Function",e)}),sb=Y((e,t)=>{if(typeof e!="function"||Cy(e))throw new G(t,"Function",e)}),lb=Y((e,t)=>{if(e!==void 0)throw new G(t,"undefined",e)});function fb(e,t,r){if(!dl(r,e))throw new G(t,`('${hl(r,"|")}')`,e)}o(fb,"validateUnion");var ub=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function cl(e,t){if(typeof e>"u"||!pl(ub,e))throw new Ve(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}o(cl,"validateLinkHeaderFormat");function ab(e){if(typeof e=="string")return cl(e,"hints"),e;if(An(e)){let t=e.length,r="";if(t===0)return r;for(let n=0;n<t;n++){let i=e[n];cl(i,"hints"),r+=i,n!==t-1&&(r+=", ")}return r}throw new Ve("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}o(ab,"validateLinkHeaderValue");wl.exports={isInt32:By,isUint32:Fy,parseFileMode:Gy,validateArray:Ht,validateStringArray:Qy,validateBooleanArray:Zy,validateAbortSignalArray:eb,validateBoolean:bl,validateBuffer:rb,validateDictionary:Xy,validateEncoding:nb,validateFunction:ob,validateInt32:Hy,validateInteger:zy,validateNumber:Ky,validateObject:Yy,validateOneOf:Jy,validatePlainFunction:sb,validatePort:ib,validateSignalName:tb,validateString:Tn,validateUint32:yl,validateUndefined:lb,validateUnion:fb,validateAbortSignal:gl,validateLinkHeaderValue:ab}});var _e=R((HS,ml)=>{ml.exports=global.process});var le=R((KS,ql)=>{"use strict";var{SymbolAsyncIterator:_l,SymbolIterator:Sl,SymbolFor:Ie}=j(),El=Ie("nodejs.stream.destroyed"),Rl=Ie("nodejs.stream.errored"),On=Ie("nodejs.stream.readable"),vn=Ie("nodejs.stream.writable"),Al=Ie("nodejs.stream.disturbed"),cb=Ie("nodejs.webstream.isClosedPromise"),db=Ie("nodejs.webstream.controllerErrorFunction");function Kt(e,t=!1){var r;return!!(e&&typeof e.pipe=="function"&&typeof e.on=="function"&&(!t||typeof e.pause=="function"&&typeof e.resume=="function")&&(!e._writableState||((r=e._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!e._writableState||e._readableState))}o(Kt,"isReadableNodeStream");function Jt(e){var t;return!!(e&&typeof e.write=="function"&&typeof e.on=="function"&&(!e._readableState||((t=e._writableState)===null||t===void 0?void 0:t.writable)!==!1))}o(Jt,"isWritableNodeStream");function hb(e){return!!(e&&typeof e.pipe=="function"&&e._readableState&&typeof e.on=="function"&&typeof e.write=="function")}o(hb,"isDuplexNodeStream");function se(e){return e&&(e._readableState||e._writableState||typeof e.write=="function"&&typeof e.on=="function"||typeof e.pipe=="function"&&typeof e.on=="function")}o(se,"isNodeStream");function xl(e){return!!(e&&!se(e)&&typeof e.pipeThrough=="function"&&typeof e.getReader=="function"&&typeof e.cancel=="function")}o(xl,"isReadableStream");function Tl(e){return!!(e&&!se(e)&&typeof e.getWriter=="function"&&typeof e.abort=="function")}o(Tl,"isWritableStream");function Ol(e){return!!(e&&!se(e)&&typeof e.readable=="object"&&typeof e.writable=="object")}o(Ol,"isTransformStream");function pb(e){return xl(e)||Tl(e)||Ol(e)}o(pb,"isWebStream");function yb(e,t){return e==null?!1:t===!0?typeof e[_l]=="function":t===!1?typeof e[Sl]=="function":typeof e[_l]=="function"||typeof e[Sl]=="function"}o(yb,"isIterable");function Yt(e){if(!se(e))return null;let t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[El]||n!=null&&n.destroyed)}o(Yt,"isDestroyed");function vl(e){if(!Jt(e))return null;if(e.writableEnded===!0)return!0;let t=e._writableState;return t!=null&&t.errored?!1:typeof t?.ended!="boolean"?null:t.ended}o(vl,"isWritableEnded");function bb(e,t){if(!Jt(e))return null;if(e.writableFinished===!0)return!0;let r=e._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||t===!1&&r.ended===!0&&r.length===0)}o(bb,"isWritableFinished");function gb(e){if(!Kt(e))return null;if(e.readableEnded===!0)return!0;let t=e._readableState;return!t||t.errored?!1:typeof t?.ended!="boolean"?null:t.ended}o(gb,"isReadableEnded");function Ll(e,t){if(!Kt(e))return null;let r=e._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||t===!1&&r.ended===!0&&r.length===0)}o(Ll,"isReadableFinished");function kl(e){return e&&e[On]!=null?e[On]:typeof e?.readable!="boolean"?null:Yt(e)?!1:Kt(e)&&e.readable&&!Ll(e)}o(kl,"isReadable");function Il(e){return e&&e[vn]!=null?e[vn]:typeof e?.writable!="boolean"?null:Yt(e)?!1:Jt(e)&&e.writable&&!vl(e)}o(Il,"isWritable");function wb(e,t){return se(e)?Yt(e)?!0:!(t?.readable!==!1&&kl(e)||t?.writable!==!1&&Il(e)):null}o(wb,"isFinished");function mb(e){var t,r;return se(e)?e.writableErrored?e.writableErrored:(t=(r=e._writableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}o(mb,"isWritableErrored");function _b(e){var t,r;return se(e)?e.readableErrored?e.readableErrored:(t=(r=e._readableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}o(_b,"isReadableErrored");function Sb(e){if(!se(e))return null;if(typeof e.closed=="boolean")return e.closed;let t=e._writableState,r=e._readableState;return typeof t?.closed=="boolean"||typeof r?.closed=="boolean"?t?.closed||r?.closed:typeof e._closed=="boolean"&&Dl(e)?e._closed:null}o(Sb,"isClosed");function Dl(e){return typeof e._closed=="boolean"&&typeof e._defaultKeepAlive=="boolean"&&typeof e._removedConnection=="boolean"&&typeof e._removedContLen=="boolean"}o(Dl,"isOutgoingMessage");function Pl(e){return typeof e._sent100=="boolean"&&Dl(e)}o(Pl,"isServerResponse");function Eb(e){var t;return typeof e._consuming=="boolean"&&typeof e._dumped=="boolean"&&((t=e.req)===null||t===void 0?void 0:t.upgradeOrConnect)===void 0}o(Eb,"isServerRequest");function Rb(e){if(!se(e))return null;let t=e._writableState,r=e._readableState,n=t||r;return!n&&Pl(e)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}o(Rb,"willEmitClose");function Ab(e){var t;return!!(e&&((t=e[Al])!==null&&t!==void 0?t:e.readableDidRead||e.readableAborted))}o(Ab,"isDisturbed");function xb(e){var t,r,n,i,s,l,f,h,u,a;return!!(e&&((t=(r=(n=(i=(s=(l=e[Rl])!==null&&l!==void 0?l:e.readableErrored)!==null&&s!==void 0?s:e.writableErrored)!==null&&i!==void 0?i:(f=e._readableState)===null||f===void 0?void 0:f.errorEmitted)!==null&&n!==void 0?n:(h=e._writableState)===null||h===void 0?void 0:h.errorEmitted)!==null&&r!==void 0?r:(u=e._readableState)===null||u===void 0?void 0:u.errored)!==null&&t!==void 0?t:!((a=e._writableState)===null||a===void 0)&&a.errored))}o(xb,"isErrored");ql.exports={isDestroyed:Yt,kIsDestroyed:El,isDisturbed:Ab,kIsDisturbed:Al,isErrored:xb,kIsErrored:Rl,isReadable:kl,kIsReadable:On,kIsClosedPromise:cb,kControllerErrorFunction:db,kIsWritable:vn,isClosed:Sb,isDuplexNodeStream:hb,isFinished:wb,isIterable:yb,isReadableNodeStream:Kt,isReadableStream:xl,isReadableEnded:gb,isReadableFinished:Ll,isReadableErrored:_b,isNodeStream:se,isWebStream:pb,isWritable:Il,isWritableNodeStream:Jt,isWritableStream:Tl,isWritableEnded:vl,isWritableFinished:bb,isWritableErrored:mb,isServerRequest:Eb,isServerResponse:Pl,willEmitClose:Rb,isTransformStream:Ol}});var de=R((YS,Pn)=>{var Se=_e(),{AbortError:Ul,codes:Tb}=z(),{ERR_INVALID_ARG_TYPE:Ob,ERR_STREAM_PREMATURE_CLOSE:jl}=Tb,{kEmptyObject:kn,once:In}=V(),{validateAbortSignal:vb,validateFunction:Lb,validateObject:kb,validateBoolean:Ib}=Ge(),{Promise:Db,PromisePrototypeThen:Pb,SymbolDispose:Vl}=j(),{isClosed:qb,isReadable:Nl,isReadableNodeStream:Ln,isReadableStream:jb,isReadableFinished:Ml,isReadableErrored:$l,isWritable:Cl,isWritableNodeStream:Wl,isWritableStream:Nb,isWritableFinished:Bl,isWritableErrored:Fl,isNodeStream:Mb,willEmitClose:$b,kIsClosedPromise:Cb}=le(),ze;function Wb(e){return e.setHeader&&typeof e.abort=="function"}o(Wb,"isRequest");var Dn=o(()=>{},"nop");function Gl(e,t,r){var n,i;if(arguments.length===2?(r=t,t=kn):t==null?t=kn:kb(t,"options"),Lb(r,"callback"),vb(t.signal,"options.signal"),r=In(r),jb(e)||Nb(e))return Bb(e,t,r);if(!Mb(e))throw new Ob("stream",["ReadableStream","WritableStream","Stream"],e);let s=(n=t.readable)!==null&&n!==void 0?n:Ln(e),l=(i=t.writable)!==null&&i!==void 0?i:Wl(e),f=e._writableState,h=e._readableState,u=o(()=>{e.writable||b()},"onlegacyfinish"),a=$b(e)&&Ln(e)===s&&Wl(e)===l,d=Bl(e,!1),b=o(()=>{d=!0,e.destroyed&&(a=!1),!(a&&(!e.readable||s))&&(!s||p)&&r.call(e)},"onfinish"),p=Ml(e,!1),c=o(()=>{p=!0,e.destroyed&&(a=!1),!(a&&(!e.writable||l))&&(!l||d)&&r.call(e)},"onend"),y=o(x=>{r.call(e,x)},"onerror"),w=qb(e),m=o(()=>{w=!0;let x=Fl(e)||$l(e);if(x&&typeof x!="boolean")return r.call(e,x);if(s&&!p&&Ln(e,!0)&&!Ml(e,!1))return r.call(e,new jl);if(l&&!d&&!Bl(e,!1))return r.call(e,new jl);r.call(e)},"onclose"),_=o(()=>{w=!0;let x=Fl(e)||$l(e);if(x&&typeof x!="boolean")return r.call(e,x);r.call(e)},"onclosed"),S=o(()=>{e.req.on("finish",b)},"onrequest");Wb(e)?(e.on("complete",b),a||e.on("abort",m),e.req?S():e.on("request",S)):l&&!f&&(e.on("end",u),e.on("close",u)),!a&&typeof e.aborted=="boolean"&&e.on("aborted",m),e.on("end",c),e.on("finish",b),t.error!==!1&&e.on("error",y),e.on("close",m),w?Se.nextTick(m):f!=null&&f.errorEmitted||h!=null&&h.errorEmitted?a||Se.nextTick(_):(!s&&(!a||Nl(e))&&(d||Cl(e)===!1)||!l&&(!a||Cl(e))&&(p||Nl(e)===!1)||h&&e.req&&e.aborted)&&Se.nextTick(_);let E=o(()=>{r=Dn,e.removeListener("aborted",m),e.removeListener("complete",b),e.removeListener("abort",m),e.removeListener("request",S),e.req&&e.req.removeListener("finish",b),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",b),e.removeListener("end",c),e.removeListener("error",y),e.removeListener("close",m)},"cleanup");if(t.signal&&!w){let x=o(()=>{let O=r;E(),O.call(e,new Ul(void 0,{cause:t.signal.reason}))},"abort");if(t.signal.aborted)Se.nextTick(x);else{ze=ze||V().addAbortListener;let O=ze(t.signal,x),T=r;r=In((...k)=>{O[Vl](),T.apply(e,k)})}}return E}o(Gl,"eos");function Bb(e,t,r){let n=!1,i=Dn;if(t.signal)if(i=o(()=>{n=!0,r.call(e,new Ul(void 0,{cause:t.signal.reason}))},"abort"),t.signal.aborted)Se.nextTick(i);else{ze=ze||V().addAbortListener;let l=ze(t.signal,i),f=r;r=In((...h)=>{l[Vl](),f.apply(e,h)})}let s=o((...l)=>{n||Se.nextTick(()=>r.apply(e,l))},"resolverFn");return Pb(e[Cb].promise,s,s),Dn}o(Bb,"eosWeb");function Fb(e,t){var r;let n=!1;return t===null&&(t=kn),(r=t)!==null&&r!==void 0&&r.cleanup&&(Ib(t.cleanup,"cleanup"),n=t.cleanup),new Db((i,s)=>{let l=Gl(e,t,f=>{n&&l(),f?s(f):i()})})}o(Fb,"finished");Pn.exports=Gl;Pn.exports.finished=Fb});var De=R((QS,Zl)=>{"use strict";var fe=_e(),{aggregateTwoErrors:Ub,codes:{ERR_MULTIPLE_CALLBACK:Vb},AbortError:Gb}=z(),{Symbol:Kl}=j(),{kIsDestroyed:zb,isDestroyed:Hb,isFinished:Kb,isServerRequest:Jb}=le(),Jl=Kl("kDestroy"),qn=Kl("kConstruct");function Yl(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}o(Yl,"checkError");function Yb(e,t){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof t=="function"&&t(),this):(Yl(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?zl(this,e,t):this.once(Jl,function(s){zl(this,Ub(s,e),t)}),this)}o(Yb,"destroy");function zl(e,t,r){let n=!1;function i(s){if(n)return;n=!0;let l=e._readableState,f=e._writableState;Yl(s,f,l),f&&(f.closed=!0),l&&(l.closed=!0),typeof r=="function"&&r(s),s?fe.nextTick(Xb,e,s):fe.nextTick(Xl,e)}o(i,"onDestroy");try{e._destroy(t||null,i)}catch(s){i(s)}}o(zl,"_destroy");function Xb(e,t){jn(e,t),Xl(e)}o(Xb,"emitErrorCloseNT");function Xl(e){let t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(r!=null&&r.emitClose||t!=null&&t.emitClose)&&e.emit("close")}o(Xl,"emitCloseNT");function jn(e,t){let r=e._readableState,n=e._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}o(jn,"emitErrorNT");function Qb(){let e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=e.readable===!1,e.endEmitted=e.readable===!1),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=t.writable===!1,t.ending=t.writable===!1,t.finished=t.writable===!1)}o(Qb,"undestroy");function Nn(e,t,r){let n=e._readableState,i=e._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?e.destroy(t):t&&(t.stack,i&&!i.errored&&(i.errored=t),n&&!n.errored&&(n.errored=t),r?fe.nextTick(jn,e,t):jn(e,t))}o(Nn,"errorOrDestroy");function Zb(e,t){if(typeof e._construct!="function")return;let r=e._readableState,n=e._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),e.once(qn,t),!(e.listenerCount(qn)>1)&&fe.nextTick(eg,e)}o(Zb,"construct");function eg(e){let t=!1;function r(n){if(t){Nn(e,n??new Vb);return}t=!0;let i=e._readableState,s=e._writableState,l=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),l.destroyed?e.emit(Jl,n):n?Nn(e,n,!0):fe.nextTick(tg,e)}o(r,"onConstruct");try{e._construct(n=>{fe.nextTick(r,n)})}catch(n){fe.nextTick(r,n)}}o(eg,"constructNT");function tg(e){e.emit(qn)}o(tg,"emitConstructNT");function Hl(e){return e?.setHeader&&typeof e.abort=="function"}o(Hl,"isRequest");function Ql(e){e.emit("close")}o(Ql,"emitCloseLegacy");function rg(e,t){e.emit("error",t),fe.nextTick(Ql,e)}o(rg,"emitErrorCloseLegacy");function ng(e,t){!e||Hb(e)||(!t&&!Kb(e)&&(t=new Gb),Jb(e)?(e.socket=null,e.destroy(t)):Hl(e)?e.abort():Hl(e.req)?e.req.abort():typeof e.destroy=="function"?e.destroy(t):typeof e.close=="function"?e.close():t?fe.nextTick(rg,e,t):fe.nextTick(Ql,e),e.destroyed||(e[zb]=!0))}o(ng,"destroyer");Zl.exports={construct:Zb,destroyer:ng,destroy:Yb,undestroy:Qb,errorOrDestroy:Nn}});var Zt=R((eE,tf)=>{"use strict";var{ArrayIsArray:ig,ObjectSetPrototypeOf:ef}=j(),{EventEmitter:Xt}=require("events");function Qt(e){Xt.call(this,e)}o(Qt,"Stream");ef(Qt.prototype,Xt.prototype);ef(Qt,Xt);Qt.prototype.pipe=function(e,t){let r=this;function n(a){e.writable&&e.write(a)===!1&&r.pause&&r.pause()}o(n,"ondata"),r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}o(i,"ondrain"),e.on("drain",i),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",l),r.on("close",f));let s=!1;function l(){s||(s=!0,e.end())}o(l,"onend");function f(){s||(s=!0,typeof e.destroy=="function"&&e.destroy())}o(f,"onclose");function h(a){u(),Xt.listenerCount(this,"error")===0&&this.emit("error",a)}o(h,"onerror"),Mn(r,"error",h),Mn(e,"error",h);function u(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",l),r.removeListener("close",f),r.removeListener("error",h),e.removeListener("error",h),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return o(u,"cleanup"),r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e};function Mn(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):ig(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}o(Mn,"prependListener");tf.exports={Stream:Qt,prependListener:Mn}});var ct=R((rE,er)=>{"use strict";var{SymbolDispose:og}=j(),{AbortError:rf,codes:sg}=z(),{isNodeStream:nf,isWebStream:lg,kControllerErrorFunction:fg}=le(),ug=de(),{ERR_INVALID_ARG_TYPE:of}=sg,$n,ag=o((e,t)=>{if(typeof e!="object"||!("aborted"in e))throw new of(t,"AbortSignal",e)},"validateAbortSignal");er.exports.addAbortSignal=o(function(t,r){if(ag(t,"signal"),!nf(r)&&!lg(r))throw new of("stream",["ReadableStream","WritableStream","Stream"],r);return er.exports.addAbortSignalNoValidate(t,r)},"addAbortSignal");er.exports.addAbortSignalNoValidate=function(e,t){if(typeof e!="object"||!("aborted"in e))return t;let r=nf(t)?()=>{t.destroy(new rf(void 0,{cause:e.reason}))}:()=>{t[fg](new rf(void 0,{cause:e.reason}))};if(e.aborted)r();else{$n=$n||V().addAbortListener;let n=$n(e,r);ug(t,n[og])}return t}});var ff=R((oE,lf)=>{"use strict";var{StringPrototypeSlice:sf,SymbolIterator:cg,TypedArrayPrototypeSet:tr,Uint8Array:dg}=j(),{Buffer:Cn}=require("buffer"),{inspect:hg}=V();lf.exports=class{static{o(this,"BufferList")}constructor(){this.head=null,this.tail=null,this.length=0}push(t){let r={data:t,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(t){let r={data:t,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=t+r.data;return n}concat(t){if(this.length===0)return Cn.alloc(0);let r=Cn.allocUnsafe(t>>>0),n=this.head,i=0;for(;n;)tr(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(t,r){let n=this.head.data;if(t<n.length){let i=n.slice(0,t);return this.head.data=n.slice(t),i}return t===n.length?this.shift():r?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[cg](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let r="",n=this.head,i=0;do{let s=n.data;if(t>s.length)r+=s,t-=s.length;else{t===s.length?(r+=s,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=sf(s,0,t),this.head=n,n.data=sf(s,t));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(t){let r=Cn.allocUnsafe(t),n=t,i=this.head,s=0;do{let l=i.data;if(t>l.length)tr(r,l,n-t),t-=l.length;else{t===l.length?(tr(r,l,n-t),++s,i.next?this.head=i.next:this.head=this.tail=null):(tr(r,new dg(l.buffer,l.byteOffset,t),n-t),this.head=i,i.data=l.slice(t));break}++s}while((i=i.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](t,r){return hg(this,{...r,depth:0,customInspect:!1})}}});var dt=R((lE,df)=>{"use strict";var{MathFloor:pg,NumberIsInteger:yg}=j(),{validateInteger:bg}=Ge(),{ERR_INVALID_ARG_VALUE:gg}=z().codes,uf=16*1024,af=16;function wg(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}o(wg,"highWaterMarkFrom");function cf(e){return e?af:uf}o(cf,"getDefaultHighWaterMark");function mg(e,t){bg(t,"value",0),e?af=t:uf=t}o(mg,"setDefaultHighWaterMark");function _g(e,t,r,n){let i=wg(t,n,r);if(i!=null){if(!yg(i)||i<0){let s=n?`options.${r}`:"options.highWaterMark";throw new gg(s,i)}return pg(i)}return cf(e.objectMode)}o(_g,"getHighWaterMark");df.exports={getHighWaterMark:_g,getDefaultHighWaterMark:cf,setDefaultHighWaterMark:mg}});var Wn=R((uE,bf)=>{"use strict";var hf=_e(),{PromisePrototypeThen:Sg,SymbolAsyncIterator:pf,SymbolIterator:yf}=j(),{Buffer:Eg}=require("buffer"),{ERR_INVALID_ARG_TYPE:Rg,ERR_STREAM_NULL_VALUES:Ag}=z().codes;function xg(e,t,r){let n;if(typeof t=="string"||t instanceof Eg)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});let i;if(t&&t[pf])i=!0,n=t[pf]();else if(t&&t[yf])i=!1,n=t[yf]();else throw new Rg("iterable",["Iterable"],t);let s=new e({objectMode:!0,highWaterMark:1,...r}),l=!1;s._read=function(){l||(l=!0,h())},s._destroy=function(u,a){Sg(f(u),()=>hf.nextTick(a,u),d=>hf.nextTick(a,d||u))};async function f(u){let a=u!=null,d=typeof n.throw=="function";if(a&&d){let{value:b,done:p}=await n.throw(u);if(await b,p)return}if(typeof n.return=="function"){let{value:b}=await n.return();await b}}o(f,"close");async function h(){for(;;){try{let{value:u,done:a}=i?await n.next():n.next();if(a)s.push(null);else{let d=u&&typeof u.then=="function"?await u:u;if(d===null)throw l=!1,new Ag;if(s.push(d))continue;l=!1}}catch(u){s.destroy(u)}break}}return o(h,"next"),s}o(xg,"from");bf.exports=xg});var pt=R((cE,qf)=>{var te=_e(),{ArrayPrototypeIndexOf:Tg,NumberIsInteger:Og,NumberIsNaN:vg,NumberParseInt:Lg,ObjectDefineProperties:Kn,ObjectKeys:kg,ObjectSetPrototypeOf:mf,Promise:_f,SafeSet:Ig,SymbolAsyncDispose:Dg,SymbolAsyncIterator:Pg,Symbol:qg}=j();qf.exports=v;v.ReadableState=or;var{EventEmitter:jg}=require("events"),{Stream:Ee,prependListener:Ng}=Zt(),{Buffer:Bn}=require("buffer"),{addAbortSignal:Mg}=ct(),Sf=de(),I=V().debuglog("stream",e=>{I=e}),$g=ff(),Je=De(),{getHighWaterMark:Cg,getDefaultHighWaterMark:Wg}=dt(),{aggregateTwoErrors:gf,codes:{ERR_INVALID_ARG_TYPE:Bg,ERR_METHOD_NOT_IMPLEMENTED:Fg,ERR_OUT_OF_RANGE:Ug,ERR_STREAM_PUSH_AFTER_EOF:Vg,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Gg},AbortError:zg}=z(),{validateObject:Hg}=Ge(),Pe=qg("kPaused"),{StringDecoder:Ef}=require("string_decoder"),Kg=Wn();mf(v.prototype,Ee.prototype);mf(v,Ee);var Fn=o(()=>{},"nop"),{errorOrDestroy:He}=Je,Ke=1,Jg=2,Rf=4,ht=8,Af=16,rr=32,nr=64,xf=128,Yg=256,Xg=512,Qg=1024,zn=2048,Hn=4096,Zg=8192,ew=16384,tw=32768,Tf=65536,rw=1<<17,nw=1<<18;function W(e){return{enumerable:!1,get(){return(this.state&e)!==0},set(t){t?this.state|=e:this.state&=~e}}}o(W,"makeBitMapDescriptor");Kn(or.prototype,{objectMode:W(Ke),ended:W(Jg),endEmitted:W(Rf),reading:W(ht),constructed:W(Af),sync:W(rr),needReadable:W(nr),emittedReadable:W(xf),readableListening:W(Yg),resumeScheduled:W(Xg),errorEmitted:W(Qg),emitClose:W(zn),autoDestroy:W(Hn),destroyed:W(Zg),closed:W(ew),closeEmitted:W(tw),multiAwaitDrain:W(Tf),readingMore:W(rw),dataEmitted:W(nw)});function or(e,t,r){typeof r!="boolean"&&(r=t instanceof ue()),this.state=zn|Hn|Af|rr,e&&e.objectMode&&(this.state|=Ke),r&&e&&e.readableObjectMode&&(this.state|=Ke),this.highWaterMark=e?Cg(this,e,"readableHighWaterMark",r):Wg(!1),this.buffer=new $g,this.length=0,this.pipes=[],this.flowing=null,this[Pe]=null,e&&e.emitClose===!1&&(this.state&=~zn),e&&e.autoDestroy===!1&&(this.state&=~Hn),this.errored=null,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new Ef(e.encoding),this.encoding=e.encoding)}o(or,"ReadableState");function v(e){if(!(this instanceof v))return new v(e);let t=this instanceof ue();this._readableState=new or(e,this,t),e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.construct=="function"&&(this._construct=e.construct),e.signal&&!t&&Mg(e.signal,this)),Ee.call(this,e),Je.construct(this,()=>{this._readableState.needReadable&&ir(this,this._readableState)})}o(v,"Readable");v.prototype.destroy=Je.destroy;v.prototype._undestroy=Je.undestroy;v.prototype._destroy=function(e,t){t(e)};v.prototype[jg.captureRejectionSymbol]=function(e){this.destroy(e)};v.prototype[Dg]=function(){let e;return this.destroyed||(e=this.readableEnded?null:new zg,this.destroy(e)),new _f((t,r)=>Sf(this,n=>n&&n!==e?r(n):t(null)))};v.prototype.push=function(e,t){return Of(this,e,t,!1)};v.prototype.unshift=function(e,t){return Of(this,e,t,!0)};function Of(e,t,r,n){I("readableAddChunk",t);let i=e._readableState,s;if(i.state&Ke||(typeof t=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?t=Bn.from(t,r).toString(i.encoding):(t=Bn.from(t,r),r=""))):t instanceof Bn?r="":Ee._isUint8Array(t)?(t=Ee._uint8ArrayToBuffer(t),r=""):t!=null&&(s=new Bg("chunk",["string","Buffer","Uint8Array"],t))),s)He(e,s);else if(t===null)i.state&=~ht,sw(e,i);else if(i.state&Ke||t&&t.length>0)if(n)if(i.state&Rf)He(e,new Gg);else{if(i.destroyed||i.errored)return!1;Un(e,i,t,!0)}else if(i.ended)He(e,new Vg);else{if(i.destroyed||i.errored)return!1;i.state&=~ht,i.decoder&&!r?(t=i.decoder.write(t),i.objectMode||t.length!==0?Un(e,i,t,!1):ir(e,i)):Un(e,i,t,!1)}else n||(i.state&=~ht,ir(e,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}o(Of,"readableAddChunk");function Un(e,t,r,n){t.flowing&&t.length===0&&!t.sync&&e.listenerCount("data")>0?(t.state&Tf?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.state&nr&&sr(e)),ir(e,t)}o(Un,"addChunk");v.prototype.isPaused=function(){let e=this._readableState;return e[Pe]===!0||e.flowing===!1};v.prototype.setEncoding=function(e){let t=new Ef(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=t.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var iw=1073741824;function ow(e){if(e>iw)throw new Ug("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++,e}o(ow,"computeNewHighWaterMark");function wf(e,t){return e<=0||t.length===0&&t.ended?0:t.state&Ke?1:vg(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}o(wf,"howMuchToRead");v.prototype.read=function(e){I("read",e),e===void 0?e=NaN:Og(e)||(e=Lg(e,10));let t=this._readableState,r=e;if(e>t.highWaterMark&&(t.highWaterMark=ow(e)),e!==0&&(t.state&=~xf),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return I("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?Vn(this):sr(this),null;if(e=wf(e,t),e===0&&t.ended)return t.length===0&&Vn(this),null;let n=(t.state&nr)!==0;if(I("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,I("length less than watermark",n)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)n=!1,I("reading, ended or constructing",n);else if(n){I("do read"),t.state|=ht|rr,t.length===0&&(t.state|=nr);try{this._read(t.highWaterMark)}catch(s){He(this,s)}t.state&=~rr,t.reading||(e=wf(r,t))}let i;return e>0?i=Df(e,t):i=null,i===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&Vn(this)),i!==null&&!t.errorEmitted&&!t.closeEmitted&&(t.dataEmitted=!0,this.emit("data",i)),i};function sw(e,t){if(I("onEofChunk"),!t.ended){if(t.decoder){let r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?sr(e):(t.needReadable=!1,t.emittedReadable=!0,vf(e))}}o(sw,"onEofChunk");function sr(e){let t=e._readableState;I("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(I("emitReadable",t.flowing),t.emittedReadable=!0,te.nextTick(vf,e))}o(sr,"emitReadable");function vf(e){let t=e._readableState;I("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&!t.errored&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,kf(e)}o(vf,"emitReadable_");function ir(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,te.nextTick(lw,e,t))}o(ir,"maybeReadMore");function lw(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){let r=t.length;if(I("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}o(lw,"maybeReadMore_");v.prototype._read=function(e){throw new Fg("_read()")};v.prototype.pipe=function(e,t){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new Ig(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(e),I("pipe count=%d opts=%j",n.pipes.length,t);let s=(!t||t.end!==!1)&&e!==te.stdout&&e!==te.stderr?f:w;n.endEmitted?te.nextTick(s):r.once("end",s),e.on("unpipe",l);function l(m,_){I("onunpipe"),m===r&&_&&_.hasUnpiped===!1&&(_.hasUnpiped=!0,a())}o(l,"onunpipe");function f(){I("onend"),e.end()}o(f,"onend");let h,u=!1;function a(){I("cleanup"),e.removeListener("close",c),e.removeListener("finish",y),h&&e.removeListener("drain",h),e.removeListener("error",p),e.removeListener("unpipe",l),r.removeListener("end",f),r.removeListener("end",w),r.removeListener("data",b),u=!0,h&&n.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&h()}o(a,"cleanup");function d(){u||(n.pipes.length===1&&n.pipes[0]===e?(I("false write response, pause",0),n.awaitDrainWriters=e,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(e)&&(I("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(e)),r.pause()),h||(h=fw(r,e),e.on("drain",h))}o(d,"pause"),r.on("data",b);function b(m){I("ondata");let _=e.write(m);I("dest.write",_),_===!1&&d()}o(b,"ondata");function p(m){if(I("onerror",m),w(),e.removeListener("error",p),e.listenerCount("error")===0){let _=e._writableState||e._readableState;_&&!_.errorEmitted?He(e,m):e.emit("error",m)}}o(p,"onerror"),Ng(e,"error",p);function c(){e.removeListener("finish",y),w()}o(c,"onclose"),e.once("close",c);function y(){I("onfinish"),e.removeListener("close",c),w()}o(y,"onfinish"),e.once("finish",y);function w(){I("unpipe"),r.unpipe(e)}return o(w,"unpipe"),e.emit("pipe",r),e.writableNeedDrain===!0?d():n.flowing||(I("pipe resume"),r.resume()),e};function fw(e,t){return o(function(){let n=e._readableState;n.awaitDrainWriters===t?(I("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(I("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(t)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&e.listenerCount("data")&&e.resume()},"pipeOnDrainFunctionResult")}o(fw,"pipeOnDrain");v.prototype.unpipe=function(e){let t=this._readableState,r={hasUnpiped:!1};if(t.pipes.length===0)return this;if(!e){let i=t.pipes;t.pipes=[],this.pause();for(let s=0;s<i.length;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}let n=Tg(t.pipes,e);return n===-1?this:(t.pipes.splice(n,1),t.pipes.length===0&&this.pause(),e.emit("unpipe",this,r),this)};v.prototype.on=function(e,t){let r=Ee.prototype.on.call(this,e,t),n=this._readableState;return e==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):e==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,I("on readable",n.length,n.reading),n.length?sr(this):n.reading||te.nextTick(uw,this)),r};v.prototype.addListener=v.prototype.on;v.prototype.removeListener=function(e,t){let r=Ee.prototype.removeListener.call(this,e,t);return e==="readable"&&te.nextTick(Lf,this),r};v.prototype.off=v.prototype.removeListener;v.prototype.removeAllListeners=function(e){let t=Ee.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&te.nextTick(Lf,this),t};function Lf(e){let t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&t[Pe]===!1?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}o(Lf,"updateReadableListening");function uw(e){I("readable nexttick read 0"),e.read(0)}o(uw,"nReadingNextTick");v.prototype.resume=function(){let e=this._readableState;return e.flowing||(I("resume"),e.flowing=!e.readableListening,aw(this,e)),e[Pe]=!1,this};function aw(e,t){t.resumeScheduled||(t.resumeScheduled=!0,te.nextTick(cw,e,t))}o(aw,"resume");function cw(e,t){I("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),kf(e),t.flowing&&!t.reading&&e.read(0)}o(cw,"resume_");v.prototype.pause=function(){return I("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(I("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Pe]=!0,this};function kf(e){let t=e._readableState;for(I("flow",t.flowing);t.flowing&&e.read()!==null;);}o(kf,"flow");v.prototype.wrap=function(e){let t=!1;e.on("data",n=>{!this.push(n)&&e.pause&&(t=!0,e.pause())}),e.on("end",()=>{this.push(null)}),e.on("error",n=>{He(this,n)}),e.on("close",()=>{this.destroy()}),e.on("destroy",()=>{this.destroy()}),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};let r=kg(e);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof e[i]=="function"&&(this[i]=e[i].bind(e))}return this};v.prototype[Pg]=function(){return If(this)};v.prototype.iterator=function(e){return e!==void 0&&Hg(e,"options"),If(this,e)};function If(e,t){typeof e.read!="function"&&(e=v.wrap(e,{objectMode:!0}));let r=dw(e,t);return r.stream=e,r}o(If,"streamToAsyncIterator");async function*dw(e,t){let r=Fn;function n(l){this===e?(r(),r=Fn):r=l}o(n,"next"),e.on("readable",n);let i,s=Sf(e,{writable:!1},l=>{i=l?gf(i,l):null,r(),r=Fn});try{for(;;){let l=e.destroyed?null:e.read();if(l!==null)yield l;else{if(i)throw i;if(i===null)return;await new _f(n)}}}catch(l){throw i=gf(i,l),i}finally{(i||t?.destroyOnReturn!==!1)&&(i===void 0||e._readableState.autoDestroy)?Je.destroyer(e,null):(e.off("readable",n),s())}}o(dw,"createAsyncIterator");Kn(v.prototype,{readable:{__proto__:null,get(){let e=this._readableState;return!!e&&e.readable!==!1&&!e.destroyed&&!e.errorEmitted&&!e.endEmitted},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});Kn(or.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Pe]!==!1},set(e){this[Pe]=!!e}}});v._fromList=Df;function Df(e,t){if(t.length===0)return null;let r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.first():r=t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}o(Df,"fromList");function Vn(e){let t=e._readableState;I("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,te.nextTick(hw,t,e))}o(Vn,"endReadable");function hw(e,t){if(I("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&e.length===0){if(e.endEmitted=!0,t.emit("end"),t.writable&&t.allowHalfOpen===!1)te.nextTick(pw,t);else if(e.autoDestroy){let r=t._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&t.destroy()}}}o(hw,"endReadableNT");function pw(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}o(pw,"endWritableNT");v.from=function(e,t){return Kg(v,e,t)};var Gn;function Pf(){return Gn===void 0&&(Gn={}),Gn}o(Pf,"lazyWebStreams");v.fromWeb=function(e,t){return Pf().newStreamReadableFromReadableStream(e,t)};v.toWeb=function(e,t){return Pf().newReadableStreamFromStreamReadable(e,t)};v.wrap=function(e,t){var r,n;return new v({objectMode:(r=(n=e.readableObjectMode)!==null&&n!==void 0?n:e.objectMode)!==null&&r!==void 0?r:!0,...t,destroy(i,s){Je.destroyer(e,i),s(i)}}).wrap(e)}});var cr=R((hE,zf)=>{var qe=_e(),{ArrayPrototypeSlice:Mf,Error:yw,FunctionPrototypeSymbolHasInstance:$f,ObjectDefineProperty:Cf,ObjectDefineProperties:bw,ObjectSetPrototypeOf:Wf,StringPrototypeToLowerCase:gw,Symbol:ww,SymbolHasInstance:mw}=j();zf.exports=N;N.WritableState=gt;var{EventEmitter:_w}=require("events"),yt=Zt().Stream,{Buffer:lr}=require("buffer"),ar=De(),{addAbortSignal:Sw}=ct(),{getHighWaterMark:Ew,getDefaultHighWaterMark:Rw}=dt(),{ERR_INVALID_ARG_TYPE:Aw,ERR_METHOD_NOT_IMPLEMENTED:xw,ERR_MULTIPLE_CALLBACK:Bf,ERR_STREAM_CANNOT_PIPE:Tw,ERR_STREAM_DESTROYED:bt,ERR_STREAM_ALREADY_FINISHED:Ow,ERR_STREAM_NULL_VALUES:vw,ERR_STREAM_WRITE_AFTER_END:Lw,ERR_UNKNOWN_ENCODING:Ff}=z().codes,{errorOrDestroy:Ye}=ar;Wf(N.prototype,yt.prototype);Wf(N,yt);function Xn(){}o(Xn,"nop");var Xe=ww("kOnFinished");function gt(e,t,r){typeof r!="boolean"&&(r=t instanceof ue()),this.objectMode=!!(e&&e.objectMode),r&&(this.objectMode=this.objectMode||!!(e&&e.writableObjectMode)),this.highWaterMark=e?Ew(this,e,"writableHighWaterMark",r):Rw(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(e&&e.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=Iw.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ur(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||e.emitClose!==!1,this.autoDestroy=!e||e.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Xe]=[]}o(gt,"WritableState");function ur(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}o(ur,"resetBuffer");gt.prototype.getBuffer=o(function(){return Mf(this.buffered,this.bufferedIndex)},"getBuffer");Cf(gt.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function N(e){let t=this instanceof ue();if(!t&&!$f(N,this))return new N(e);this._writableState=new gt(e,this,t),e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final),typeof e.construct=="function"&&(this._construct=e.construct),e.signal&&Sw(e.signal,this)),yt.call(this,e),ar.construct(this,()=>{let r=this._writableState;r.writing||Zn(this,r),ei(this,r)})}o(N,"Writable");Cf(N,mw,{__proto__:null,value:function(e){return $f(this,e)?!0:this!==N?!1:e&&e._writableState instanceof gt}});N.prototype.pipe=function(){Ye(this,new Tw)};function Uf(e,t,r,n){let i=e._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!lr.isEncoding(r))throw new Ff(r);typeof n!="function"&&(n=Xn)}if(t===null)throw new vw;if(!i.objectMode)if(typeof t=="string")i.decodeStrings!==!1&&(t=lr.from(t,r),r="buffer");else if(t instanceof lr)r="buffer";else if(yt._isUint8Array(t))t=yt._uint8ArrayToBuffer(t),r="buffer";else throw new Aw("chunk",["string","Buffer","Uint8Array"],t);let s;return i.ending?s=new Lw:i.destroyed&&(s=new bt("write")),s?(qe.nextTick(n,s),Ye(e,s,!0),s):(i.pendingcb++,kw(e,i,t,r,n))}o(Uf,"_write");N.prototype.write=function(e,t,r){return Uf(this,e,t,r)===!0};N.prototype.cork=function(){this._writableState.corked++};N.prototype.uncork=function(){let e=this._writableState;e.corked&&(e.corked--,e.writing||Zn(this,e))};N.prototype.setDefaultEncoding=o(function(t){if(typeof t=="string"&&(t=gw(t)),!lr.isEncoding(t))throw new Ff(t);return this._writableState.defaultEncoding=t,this},"setDefaultEncoding");function kw(e,t,r,n,i){let s=t.objectMode?1:r.length;t.length+=s;let l=t.length<t.highWaterMark;return l||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:n,callback:i}),t.allBuffers&&n!=="buffer"&&(t.allBuffers=!1),t.allNoop&&i!==Xn&&(t.allNoop=!1)):(t.writelen=s,t.writecb=i,t.writing=!0,t.sync=!0,e._write(r,n,t.onwrite),t.sync=!1),l&&!t.errored&&!t.destroyed}o(kw,"writeOrBuffer");function jf(e,t,r,n,i,s,l){t.writelen=n,t.writecb=l,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new bt("write")):r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}o(jf,"doWrite");function Nf(e,t,r,n){--t.pendingcb,n(r),Qn(t),Ye(e,r)}o(Nf,"onwriteError");function Iw(e,t){let r=e._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){Ye(e,new Bf);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(t.stack,r.errored||(r.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),n?qe.nextTick(Nf,e,r,t,i):Nf(e,r,t,i)):(r.buffered.length>r.bufferedIndex&&Zn(e,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:e,state:r},qe.nextTick(Dw,r.afterWriteTickInfo)):Vf(e,r,1,i))}o(Iw,"onwrite");function Dw({stream:e,state:t,count:r,cb:n}){return t.afterWriteTickInfo=null,Vf(e,t,r,n)}o(Dw,"afterWriteTick");function Vf(e,t,r,n){for(!t.ending&&!e.destroyed&&t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,n();t.destroyed&&Qn(t),ei(e,t)}o(Vf,"afterWrite");function Qn(e){if(e.writing)return;for(let i=e.bufferedIndex;i<e.buffered.length;++i){var t;let{chunk:s,callback:l}=e.buffered[i],f=e.objectMode?1:s.length;e.length-=f,l((t=e.errored)!==null&&t!==void 0?t:new bt("write"))}let r=e[Xe].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=e.errored)!==null&&n!==void 0?n:new bt("end"))}ur(e)}o(Qn,"errorBuffer");function Zn(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=t,s=r.length-n;if(!s)return;let l=n;if(t.bufferProcessing=!0,s>1&&e._writev){t.pendingcb-=s-1;let f=t.allNoop?Xn:u=>{for(let a=l;a<r.length;++a)r[a].callback(u)},h=t.allNoop&&l===0?r:Mf(r,l);h.allBuffers=t.allBuffers,jf(e,t,!0,t.length,h,"",f),ur(t)}else{do{let{chunk:f,encoding:h,callback:u}=r[l];r[l++]=null;let a=i?1:f.length;jf(e,t,!1,a,f,h,u)}while(l<r.length&&!t.writing);l===r.length?ur(t):l>256?(r.splice(0,l),t.bufferedIndex=0):t.bufferedIndex=l}t.bufferProcessing=!1}o(Zn,"clearBuffer");N.prototype._write=function(e,t,r){if(this._writev)this._writev([{chunk:e,encoding:t}],r);else throw new xw("_write()")};N.prototype._writev=null;N.prototype.end=function(e,t,r){let n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null);let i;if(e!=null){let s=Uf(this,e,t);s instanceof yw&&(i=s)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,ei(this,n,!0),n.ended=!0):n.finished?i=new Ow("end"):n.destroyed&&(i=new bt("end"))),typeof r=="function"&&(i||n.finished?qe.nextTick(r,i):n[Xe].push(r)),this};function fr(e){return e.ending&&!e.destroyed&&e.constructed&&e.length===0&&!e.errored&&e.buffered.length===0&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}o(fr,"needFinish");function Pw(e,t){let r=!1;function n(i){if(r){Ye(e,i??Bf());return}if(r=!0,t.pendingcb--,i){let s=t[Xe].splice(0);for(let l=0;l<s.length;l++)s[l](i);Ye(e,i,t.sync)}else fr(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,qe.nextTick(Yn,e,t))}o(n,"onFinish"),t.sync=!0,t.pendingcb++;try{e._final(n)}catch(i){n(i)}t.sync=!1}o(Pw,"callFinal");function qw(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"&&!t.destroyed?(t.finalCalled=!0,Pw(e,t)):(t.prefinished=!0,e.emit("prefinish")))}o(qw,"prefinish");function ei(e,t,r){fr(t)&&(qw(e,t),t.pendingcb===0&&(r?(t.pendingcb++,qe.nextTick((n,i)=>{fr(i)?Yn(n,i):i.pendingcb--},e,t)):fr(t)&&(t.pendingcb++,Yn(e,t))))}o(ei,"finishMaybe");function Yn(e,t){t.pendingcb--,t.finished=!0;let r=t[Xe].splice(0);for(let n=0;n<r.length;n++)r[n]();if(e.emit("finish"),t.autoDestroy){let n=e._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&e.destroy()}}o(Yn,"finish");bw(N.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){let e=this._writableState;return!!e&&e.writable!==!1&&!e.destroyed&&!e.errored&&!e.ending&&!e.ended},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let e=this._writableState;return e?!e.destroyed&&!e.ending&&e.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var jw=ar.destroy;N.prototype.destroy=function(e,t){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[Xe].length)&&qe.nextTick(Qn,r),jw.call(this,e,t),this};N.prototype._undestroy=ar.undestroy;N.prototype._destroy=function(e,t){t(e)};N.prototype[_w.captureRejectionSymbol]=function(e){this.destroy(e)};var Jn;function Gf(){return Jn===void 0&&(Jn={}),Jn}o(Gf,"lazyWebStreams");N.fromWeb=function(e,t){return Gf().newStreamWritableFromWritableStream(e,t)};N.toWeb=function(e){return Gf().newWritableStreamFromStreamWritable(e)}});var lu=R((yE,su)=>{var ti=_e(),Nw=require("buffer"),{isReadable:Mw,isWritable:$w,isIterable:Hf,isNodeStream:Cw,isReadableNodeStream:Kf,isWritableNodeStream:Jf,isDuplexNodeStream:Ww,isReadableStream:Yf,isWritableStream:Xf}=le(),Qf=de(),{AbortError:iu,codes:{ERR_INVALID_ARG_TYPE:Bw,ERR_INVALID_RETURN_VALUE:Zf}}=z(),{destroyer:Ze}=De(),Fw=ue(),ou=pt(),Uw=cr(),{createDeferredPromise:eu}=V(),tu=Wn(),ru=globalThis.Blob||Nw.Blob,Vw=o(typeof ru<"u"?function(t){return t instanceof ru}:function(t){return!1},"isBlob"),Gw=globalThis.AbortController||Ue().AbortController,{FunctionPrototypeCall:nu}=j(),Re=class extends Fw{static{o(this,"Duplexify")}constructor(t){super(t),t?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};su.exports=o(function e(t,r){if(Ww(t))return t;if(Kf(t))return Qe({readable:t});if(Jf(t))return Qe({writable:t});if(Cw(t))return Qe({writable:!1,readable:!1});if(Yf(t))return Qe({readable:ou.fromWeb(t)});if(Xf(t))return Qe({writable:Uw.fromWeb(t)});if(typeof t=="function"){let{value:i,write:s,final:l,destroy:f}=zw(t);if(Hf(i))return tu(Re,i,{objectMode:!0,write:s,final:l,destroy:f});let h=i?.then;if(typeof h=="function"){let u,a=nu(h,i,d=>{if(d!=null)throw new Zf("nully","body",d)},d=>{Ze(u,d)});return u=new Re({objectMode:!0,readable:!1,write:s,final(d){l(async()=>{try{await a,ti.nextTick(d,null)}catch(b){ti.nextTick(d,b)}})},destroy:f})}throw new Zf("Iterable, AsyncIterable or AsyncFunction",r,i)}if(Vw(t))return e(t.arrayBuffer());if(Hf(t))return tu(Re,t,{objectMode:!0,writable:!1});if(Yf(t?.readable)&&Xf(t?.writable))return Re.fromWeb(t);if(typeof t?.writable=="object"||typeof t?.readable=="object"){let i=t!=null&&t.readable?Kf(t?.readable)?t?.readable:e(t.readable):void 0,s=t!=null&&t.writable?Jf(t?.writable)?t?.writable:e(t.writable):void 0;return Qe({readable:i,writable:s})}let n=t?.then;if(typeof n=="function"){let i;return nu(n,t,s=>{s!=null&&i.push(s),i.push(null)},s=>{Ze(i,s)}),i=new Re({objectMode:!0,writable:!1,read(){}})}throw new Bw(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)},"duplexify");function zw(e){let{promise:t,resolve:r}=eu(),n=new Gw,i=n.signal;return{value:e(async function*(){for(;;){let l=t;t=null;let{chunk:f,done:h,cb:u}=await l;if(ti.nextTick(u),h)return;if(i.aborted)throw new iu(void 0,{cause:i.reason});({promise:t,resolve:r}=eu()),yield f}}(),{signal:i}),write(l,f,h){let u=r;r=null,u({chunk:l,done:!1,cb:h})},final(l){let f=r;r=null,f({done:!0,cb:l})},destroy(l,f){n.abort(),f(l)}}}o(zw,"fromAsyncGen");function Qe(e){let t=e.readable&&typeof e.readable.read!="function"?ou.wrap(e.readable):e.readable,r=e.writable,n=!!Mw(t),i=!!$w(r),s,l,f,h,u;function a(d){let b=h;h=null,b?b(d):d&&u.destroy(d)}return o(a,"onfinished"),u=new Re({readableObjectMode:!!(t!=null&&t.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(Qf(r,d=>{i=!1,d&&Ze(t,d),a(d)}),u._write=function(d,b,p){r.write(d,b)?p():s=p},u._final=function(d){r.end(),l=d},r.on("drain",function(){if(s){let d=s;s=null,d()}}),r.on("finish",function(){if(l){let d=l;l=null,d()}})),n&&(Qf(t,d=>{n=!1,d&&Ze(t,d),a(d)}),t.on("readable",function(){if(f){let d=f;f=null,d()}}),t.on("end",function(){u.push(null)}),u._read=function(){for(;;){let d=t.read();if(d===null){f=u._read;return}if(!u.push(d))return}}),u._destroy=function(d,b){!d&&h!==null&&(d=new iu),f=null,s=null,l=null,h===null?b(d):(h=b,Ze(r,d),Ze(t,d))},u}o(Qe,"_duplexify")});var ue=R((gE,au)=>{"use strict";var{ObjectDefineProperties:Hw,ObjectGetOwnPropertyDescriptor:he,ObjectKeys:Kw,ObjectSetPrototypeOf:fu}=j();au.exports=re;var ii=pt(),X=cr();fu(re.prototype,ii.prototype);fu(re,ii);{let e=Kw(X.prototype);for(let t=0;t<e.length;t++){let r=e[t];re.prototype[r]||(re.prototype[r]=X.prototype[r])}}function re(e){if(!(this instanceof re))return new re(e);ii.call(this,e),X.call(this,e),e?(this.allowHalfOpen=e.allowHalfOpen!==!1,e.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}o(re,"Duplex");Hw(re.prototype,{writable:{__proto__:null,...he(X.prototype,"writable")},writableHighWaterMark:{__proto__:null,...he(X.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...he(X.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...he(X.prototype,"writableBuffer")},writableLength:{__proto__:null,...he(X.prototype,"writableLength")},writableFinished:{__proto__:null,...he(X.prototype,"writableFinished")},writableCorked:{__proto__:null,...he(X.prototype,"writableCorked")},writableEnded:{__proto__:null,...he(X.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...he(X.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}});var ri;function uu(){return ri===void 0&&(ri={}),ri}o(uu,"lazyWebStreams");re.fromWeb=function(e,t){return uu().newStreamDuplexFromReadableWritablePair(e,t)};re.toWeb=function(e){return uu().newReadableWritablePairFromDuplex(e)};var ni;re.from=function(e){return ni||(ni=lu()),ni(e,"body")}});var li=R((mE,du)=>{"use strict";var{ObjectSetPrototypeOf:cu,Symbol:Jw}=j();du.exports=pe;var{ERR_METHOD_NOT_IMPLEMENTED:Yw}=z().codes,si=ue(),{getHighWaterMark:Xw}=dt();cu(pe.prototype,si.prototype);cu(pe,si);var wt=Jw("kCallback");function pe(e){if(!(this instanceof pe))return new pe(e);let t=e?Xw(this,e,"readableHighWaterMark",!0):null;t===0&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),si.call(this,e),this._readableState.sync=!1,this[wt]=null,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",Qw)}o(pe,"Transform");function oi(e){typeof this._flush=="function"&&!this.destroyed?this._flush((t,r)=>{if(t){e?e(t):this.destroy(t);return}r!=null&&this.push(r),this.push(null),e&&e()}):(this.push(null),e&&e())}o(oi,"final");function Qw(){this._final!==oi&&oi.call(this)}o(Qw,"prefinish");pe.prototype._final=oi;pe.prototype._transform=function(e,t,r){throw new Yw("_transform()")};pe.prototype._write=function(e,t,r){let n=this._readableState,i=this._writableState,s=n.length;this._transform(e,t,(l,f)=>{if(l){r(l);return}f!=null&&this.push(f),i.ended||s===n.length||n.length<n.highWaterMark?r():this[wt]=r})};pe.prototype._read=function(){if(this[wt]){let e=this[wt];this[wt]=null,e()}}});var ui=R((SE,pu)=>{"use strict";var{ObjectSetPrototypeOf:hu}=j();pu.exports=et;var fi=li();hu(et.prototype,fi.prototype);hu(et,fi);function et(e){if(!(this instanceof et))return new et(e);fi.call(this,e)}o(et,"PassThrough");et.prototype._transform=function(e,t,r){r(null,e)}});var yr=R((RE,mu)=>{var mt=_e(),{ArrayIsArray:Zw,Promise:em,SymbolAsyncIterator:tm,SymbolDispose:rm}=j(),pr=de(),{once:nm}=V(),im=De(),yu=ue(),{aggregateTwoErrors:om,codes:{ERR_INVALID_ARG_TYPE:wi,ERR_INVALID_RETURN_VALUE:ai,ERR_MISSING_ARGS:sm,ERR_STREAM_DESTROYED:lm,ERR_STREAM_PREMATURE_CLOSE:fm},AbortError:um}=z(),{validateFunction:am,validateAbortSignal:cm}=Ge(),{isIterable:je,isReadable:ci,isReadableNodeStream:hr,isNodeStream:bu,isTransformStream:tt,isWebStream:dm,isReadableStream:di,isReadableFinished:hm}=le(),pm=globalThis.AbortController||Ue().AbortController,hi,pi,yi;function gu(e,t,r){let n=!1;e.on("close",()=>{n=!0});let i=pr(e,{readable:t,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,im.destroyer(e,s||new lm("pipe")))},cleanup:i}}o(gu,"destroyer");function ym(e){return am(e[e.length-1],"streams[stream.length - 1]"),e.pop()}o(ym,"popCallback");function bi(e){if(je(e))return e;if(hr(e))return bm(e);throw new wi("val",["Readable","Iterable","AsyncIterable"],e)}o(bi,"makeAsyncIterable");async function*bm(e){pi||(pi=pt()),yield*pi.prototype[tm].call(e)}o(bm,"fromReadable");async function dr(e,t,r,{end:n}){let i,s=null,l=o(u=>{if(u&&(i=u),s){let a=s;s=null,a()}},"resume"),f=o(()=>new em((u,a)=>{i?a(i):s=o(()=>{i?a(i):u()},"onresolve")}),"wait");t.on("drain",l);let h=pr(t,{readable:!1},l);try{t.writableNeedDrain&&await f();for await(let u of e)t.write(u)||await f();n&&(t.end(),await f()),r()}catch(u){r(i!==u?om(i,u):u)}finally{h(),t.off("drain",l)}}o(dr,"pumpToNode");async function gi(e,t,r,{end:n}){tt(t)&&(t=t.writable);let i=t.getWriter();try{for await(let s of e)await i.ready,i.write(s).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(s){try{await i.abort(s),r(s)}catch(l){r(l)}}}o(gi,"pumpToWeb");function gm(...e){return wu(e,nm(ym(e)))}o(gm,"pipeline");function wu(e,t,r){if(e.length===1&&Zw(e[0])&&(e=e[0]),e.length<2)throw new sm("streams");let n=new pm,i=n.signal,s=r?.signal,l=[];cm(s,"options.signal");function f(){c(new um)}o(f,"abort"),yi=yi||V().addAbortListener;let h;s&&(h=yi(s,f));let u,a,d=[],b=0;function p(S){c(S,--b===0)}o(p,"finish");function c(S,E){var x;if(S&&(!u||u.code==="ERR_STREAM_PREMATURE_CLOSE")&&(u=S),!(!u&&!E)){for(;d.length;)d.shift()(u);(x=h)===null||x===void 0||x[rm](),n.abort(),E&&(u||l.forEach(O=>O()),mt.nextTick(t,u,a))}}o(c,"finishImpl");let y;for(let S=0;S<e.length;S++){let E=e[S],x=S<e.length-1,O=S>0,T=x||r?.end!==!1,k=S===e.length-1;if(bu(E)){let A=function(D){D&&D.name!=="AbortError"&&D.code!=="ERR_STREAM_PREMATURE_CLOSE"&&p(D)};var _=A;if(o(A,"onError"),T){let{destroy:D,cleanup:F}=gu(E,x,O);d.push(D),ci(E)&&k&&l.push(F)}E.on("error",A),ci(E)&&k&&l.push(()=>{E.removeListener("error",A)})}if(S===0)if(typeof E=="function"){if(y=E({signal:i}),!je(y))throw new ai("Iterable, AsyncIterable or Stream","source",y)}else je(E)||hr(E)||tt(E)?y=E:y=yu.from(E);else if(typeof E=="function"){if(tt(y)){var w;y=bi((w=y)===null||w===void 0?void 0:w.readable)}else y=bi(y);if(y=E(y,{signal:i}),x){if(!je(y,!0))throw new ai("AsyncIterable",`transform[${S-1}]`,y)}else{var m;hi||(hi=ui());let A=new hi({objectMode:!0}),D=(m=y)===null||m===void 0?void 0:m.then;if(typeof D=="function")b++,D.call(y,M=>{a=M,M!=null&&A.write(M),T&&A.end(),mt.nextTick(p)},M=>{A.destroy(M),mt.nextTick(p,M)});else if(je(y,!0))b++,dr(y,A,p,{end:T});else if(di(y)||tt(y)){let M=y.readable||y;b++,dr(M,A,p,{end:T})}else throw new ai("AsyncIterable or Promise","destination",y);y=A;let{destroy:F,cleanup:C}=gu(y,!1,!0);d.push(F),k&&l.push(C)}}else if(bu(E)){if(hr(y)){b+=2;let A=wm(y,E,p,{end:T});ci(E)&&k&&l.push(A)}else if(tt(y)||di(y)){let A=y.readable||y;b++,dr(A,E,p,{end:T})}else if(je(y))b++,dr(y,E,p,{end:T});else throw new wi("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=E}else if(dm(E)){if(hr(y))b++,gi(bi(y),E,p,{end:T});else if(di(y)||je(y))b++,gi(y,E,p,{end:T});else if(tt(y))b++,gi(y.readable,E,p,{end:T});else throw new wi("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=E}else y=yu.from(E)}return(i!=null&&i.aborted||s!=null&&s.aborted)&&mt.nextTick(f),y}o(wu,"pipelineImpl");function wm(e,t,r,{end:n}){let i=!1;if(t.on("close",()=>{i||r(new fm)}),e.pipe(t,{end:!1}),n){let l=function(){i=!0,t.end()};var s=l;o(l,"endFn"),hm(e)?mt.nextTick(l):e.once("end",l)}else r();return pr(e,{readable:!0,writable:!1},l=>{let f=e._readableState;l&&l.code==="ERR_STREAM_PREMATURE_CLOSE"&&f&&f.ended&&!f.errored&&!f.errorEmitted?e.once("end",r).once("error",r):r(l)}),pr(t,{readable:!1,writable:!0},r)}o(wm,"pipe");mu.exports={pipelineImpl:wu,pipeline:gm}});var _i=R((xE,xu)=>{"use strict";var{pipeline:mm}=yr(),br=ue(),{destroyer:_m}=De(),{isNodeStream:gr,isReadable:_u,isWritable:Su,isWebStream:mi,isTransformStream:Ne,isWritableStream:Eu,isReadableStream:Ru}=le(),{AbortError:Sm,codes:{ERR_INVALID_ARG_VALUE:Au,ERR_MISSING_ARGS:Em}}=z(),Rm=de();xu.exports=o(function(...t){if(t.length===0)throw new Em("streams");if(t.length===1)return br.from(t[0]);let r=[...t];if(typeof t[0]=="function"&&(t[0]=br.from(t[0])),typeof t[t.length-1]=="function"){let p=t.length-1;t[p]=br.from(t[p])}for(let p=0;p<t.length;++p)if(!(!gr(t[p])&&!mi(t[p]))){if(p<t.length-1&&!(_u(t[p])||Ru(t[p])||Ne(t[p])))throw new Au(`streams[${p}]`,r[p],"must be readable");if(p>0&&!(Su(t[p])||Eu(t[p])||Ne(t[p])))throw new Au(`streams[${p}]`,r[p],"must be writable")}let n,i,s,l,f;function h(p){let c=l;l=null,c?c(p):p?f.destroy(p):!b&&!d&&f.destroy()}o(h,"onfinished");let u=t[0],a=mm(t,h),d=!!(Su(u)||Eu(u)||Ne(u)),b=!!(_u(a)||Ru(a)||Ne(a));if(f=new br({writableObjectMode:!!(u!=null&&u.writableObjectMode),readableObjectMode:!!(a!=null&&a.readableObjectMode),writable:d,readable:b}),d){if(gr(u))f._write=function(c,y,w){u.write(c,y)?w():n=w},f._final=function(c){u.end(),i=c},u.on("drain",function(){if(n){let c=n;n=null,c()}});else if(mi(u)){let y=(Ne(u)?u.writable:u).getWriter();f._write=async function(w,m,_){try{await y.ready,y.write(w).catch(()=>{}),_()}catch(S){_(S)}},f._final=async function(w){try{await y.ready,y.close().catch(()=>{}),i=w}catch(m){w(m)}}}let p=Ne(a)?a.readable:a;Rm(p,()=>{if(i){let c=i;i=null,c()}})}if(b){if(gr(a))a.on("readable",function(){if(s){let p=s;s=null,p()}}),a.on("end",function(){f.push(null)}),f._read=function(){for(;;){let p=a.read();if(p===null){s=f._read;return}if(!f.push(p))return}};else if(mi(a)){let c=(Ne(a)?a.readable:a).getReader();f._read=async function(){for(;;)try{let{value:y,done:w}=await c.read();if(!f.push(y))return;if(w){f.push(null);return}}catch{return}}}}return f._destroy=function(p,c){!p&&l!==null&&(p=new Sm),s=null,n=null,i=null,l===null?c(p):(l=c,gr(a)&&_m(a,p))},f},"compose")});var ju=R((OE,Ri)=>{"use strict";var Am=globalThis.AbortController||Ue().AbortController,{codes:{ERR_INVALID_ARG_VALUE:xm,ERR_INVALID_ARG_TYPE:_t,ERR_MISSING_ARGS:Tm,ERR_OUT_OF_RANGE:Om},AbortError:ae}=z(),{validateAbortSignal:Me,validateInteger:Tu,validateObject:$e}=Ge(),vm=j().Symbol("kWeak"),Lm=j().Symbol("kResistStopPropagation"),{finished:km}=de(),Im=_i(),{addAbortSignalNoValidate:Dm}=ct(),{isWritable:Pm,isNodeStream:qm}=le(),{deprecate:jm}=V(),{ArrayPrototypePush:Nm,Boolean:Mm,MathFloor:Ou,Number:$m,NumberIsNaN:Cm,Promise:vu,PromiseReject:Lu,PromiseResolve:Wm,PromisePrototypeThen:ku,Symbol:Du}=j(),wr=Du("kEmpty"),Iu=Du("kEof");function Bm(e,t){if(t!=null&&$e(t,"options"),t?.signal!=null&&Me(t.signal,"options.signal"),qm(e)&&!Pm(e))throw new xm("stream",e,"must be writable");let r=Im(this,e);return t!=null&&t.signal&&Dm(t.signal,r),r}o(Bm,"compose");function mr(e,t){if(typeof e!="function")throw new _t("fn",["Function","AsyncFunction"],e);t!=null&&$e(t,"options"),t?.signal!=null&&Me(t.signal,"options.signal");let r=1;t?.concurrency!=null&&(r=Ou(t.concurrency));let n=r-1;return t?.highWaterMark!=null&&(n=Ou(t.highWaterMark)),Tu(r,"options.concurrency",1),Tu(n,"options.highWaterMark",0),n+=r,o(async function*(){let s=V().AbortSignalAny([t?.signal].filter(Mm)),l=this,f=[],h={signal:s},u,a,d=!1,b=0;function p(){d=!0,c()}o(p,"onCatch");function c(){b-=1,y()}o(c,"afterItemProcessed");function y(){a&&!d&&b<r&&f.length<n&&(a(),a=null)}o(y,"maybeResume");async function w(){try{for await(let m of l){if(d)return;if(s.aborted)throw new ae;try{if(m=e(m,h),m===wr)continue;m=Wm(m)}catch(_){m=Lu(_)}b+=1,ku(m,c,p),f.push(m),u&&(u(),u=null),!d&&(f.length>=n||b>=r)&&await new vu(_=>{a=_})}f.push(Iu)}catch(m){let _=Lu(m);ku(_,c,p),f.push(_)}finally{d=!0,u&&(u(),u=null)}}o(w,"pump"),w();try{for(;;){for(;f.length>0;){let m=await f[0];if(m===Iu)return;if(s.aborted)throw new ae;m!==wr&&(yield m),f.shift(),y()}await new vu(m=>{u=m})}}finally{d=!0,a&&(a(),a=null)}},"map").call(this)}o(mr,"map");function Fm(e=void 0){return e!=null&&$e(e,"options"),e?.signal!=null&&Me(e.signal,"options.signal"),o(async function*(){let r=0;for await(let i of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new ae({cause:e.signal.reason});yield[r++,i]}},"asIndexedPairs").call(this)}o(Fm,"asIndexedPairs");async function Pu(e,t=void 0){for await(let r of Ei.call(this,e,t))return!0;return!1}o(Pu,"some");async function Um(e,t=void 0){if(typeof e!="function")throw new _t("fn",["Function","AsyncFunction"],e);return!await Pu.call(this,async(...r)=>!await e(...r),t)}o(Um,"every");async function Vm(e,t){for await(let r of Ei.call(this,e,t))return r}o(Vm,"find");async function Gm(e,t){if(typeof e!="function")throw new _t("fn",["Function","AsyncFunction"],e);async function r(n,i){return await e(n,i),wr}o(r,"forEachFn");for await(let n of mr.call(this,r,t));}o(Gm,"forEach");function Ei(e,t){if(typeof e!="function")throw new _t("fn",["Function","AsyncFunction"],e);async function r(n,i){return await e(n,i)?n:wr}return o(r,"filterFn"),mr.call(this,r,t)}o(Ei,"filter");var Si=class extends Tm{static{o(this,"ReduceAwareErrMissingArgs")}constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function zm(e,t,r){var n;if(typeof e!="function")throw new _t("reducer",["Function","AsyncFunction"],e);r!=null&&$e(r,"options"),r?.signal!=null&&Me(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let u=new ae(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await km(this.destroy(u)),u}let s=new Am,l=s.signal;if(r!=null&&r.signal){let u={once:!0,[vm]:this,[Lm]:!0};r.signal.addEventListener("abort",()=>s.abort(),u)}let f=!1;try{for await(let u of this){var h;if(f=!0,r!=null&&(h=r.signal)!==null&&h!==void 0&&h.aborted)throw new ae;i?t=await e(t,u,{signal:l}):(t=u,i=!0)}if(!f&&!i)throw new Si}finally{s.abort()}return t}o(zm,"reduce");async function Hm(e){e!=null&&$e(e,"options"),e?.signal!=null&&Me(e.signal,"options.signal");let t=[];for await(let n of this){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new ae(void 0,{cause:e.signal.reason});Nm(t,n)}return t}o(Hm,"toArray");function Km(e,t){let r=mr.call(this,e,t);return o(async function*(){for await(let i of r)yield*i},"flatMap").call(this)}o(Km,"flatMap");function qu(e){if(e=$m(e),Cm(e))return 0;if(e<0)throw new Om("number",">= 0",e);return e}o(qu,"toIntegerOrInfinity");function Jm(e,t=void 0){return t!=null&&$e(t,"options"),t?.signal!=null&&Me(t.signal,"options.signal"),e=qu(e),o(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new ae;for await(let s of this){var i;if(t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted)throw new ae;e--<=0&&(yield s)}},"drop").call(this)}o(Jm,"drop");function Ym(e,t=void 0){return t!=null&&$e(t,"options"),t?.signal!=null&&Me(t.signal,"options.signal"),e=qu(e),o(async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new ae;for await(let s of this){var i;if(t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted)throw new ae;if(e-- >0&&(yield s),e<=0)return}},"take").call(this)}o(Ym,"take");Ri.exports.streamReturningOperators={asIndexedPairs:jm(Fm,"readable.asIndexedPairs will be removed in a future version."),drop:Jm,filter:Ei,flatMap:Km,map:mr,take:Ym,compose:Bm};Ri.exports.promiseReturningOperators={every:Um,forEach:Gm,reduce:zm,toArray:Hm,some:Pu,find:Vm}});var Ai=R((LE,Nu)=>{"use strict";var{ArrayPrototypePop:Xm,Promise:Qm}=j(),{isIterable:Zm,isNodeStream:e_,isWebStream:t_}=le(),{pipelineImpl:r_}=yr(),{finished:n_}=de();xi();function i_(...e){return new Qm((t,r)=>{let n,i,s=e[e.length-1];if(s&&typeof s=="object"&&!e_(s)&&!Zm(s)&&!t_(s)){let l=Xm(e);n=l.signal,i=l.end}r_(e,(l,f)=>{l?r(l):t(f)},{signal:n,end:i})})}o(i_,"pipeline");Nu.exports={finished:n_,pipeline:i_}});var xi=R((IE,Gu)=>{var{Buffer:o_}=require("buffer"),{ObjectDefineProperty:ye,ObjectKeys:Cu,ReflectApply:Wu}=j(),{promisify:{custom:Bu}}=V(),{streamReturningOperators:Mu,promiseReturningOperators:$u}=ju(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:Fu}}=z(),s_=_i(),{setDefaultHighWaterMark:l_,getDefaultHighWaterMark:f_}=dt(),{pipeline:Uu}=yr(),{destroyer:u_}=De(),Vu=de(),Ti=Ai(),St=le(),q=Gu.exports=Zt().Stream;q.isDestroyed=St.isDestroyed;q.isDisturbed=St.isDisturbed;q.isErrored=St.isErrored;q.isReadable=St.isReadable;q.isWritable=St.isWritable;q.Readable=pt();for(let e of Cu(Mu)){let r=function(...n){if(new.target)throw Fu();return q.Readable.from(Wu(t,this,n))};Oi=r,o(r,"fn");let t=Mu[e];ye(r,"name",{__proto__:null,value:t.name}),ye(r,"length",{__proto__:null,value:t.length}),ye(q.Readable.prototype,e,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var Oi;for(let e of Cu($u)){let r=function(...i){if(new.target)throw Fu();return Wu(t,this,i)};Oi=r,o(r,"fn");let t=$u[e];ye(r,"name",{__proto__:null,value:t.name}),ye(r,"length",{__proto__:null,value:t.length}),ye(q.Readable.prototype,e,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var Oi;q.Writable=cr();q.Duplex=ue();q.Transform=li();q.PassThrough=ui();q.pipeline=Uu;var{addAbortSignal:a_}=ct();q.addAbortSignal=a_;q.finished=Vu;q.destroy=u_;q.compose=s_;q.setDefaultHighWaterMark=l_;q.getDefaultHighWaterMark=f_;ye(q,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return Ti}});ye(Uu,Bu,{__proto__:null,enumerable:!0,get(){return Ti.pipeline}});ye(Vu,Bu,{__proto__:null,enumerable:!0,get(){return Ti.finished}});q.Stream=q;q._isUint8Array=o(function(t){return t instanceof Uint8Array},"isUint8Array");q._uint8ArrayToBuffer=o(function(t){return o_.from(t.buffer,t.byteOffset,t.byteLength)},"_uint8ArrayToBuffer")});var zu=R((PE,L)=>{"use strict";var B=require("stream");if(B&&process.env.READABLE_STREAM==="disable"){let e=B.promises;L.exports._uint8ArrayToBuffer=B._uint8ArrayToBuffer,L.exports._isUint8Array=B._isUint8Array,L.exports.isDisturbed=B.isDisturbed,L.exports.isErrored=B.isErrored,L.exports.isReadable=B.isReadable,L.exports.Readable=B.Readable,L.exports.Writable=B.Writable,L.exports.Duplex=B.Duplex,L.exports.Transform=B.Transform,L.exports.PassThrough=B.PassThrough,L.exports.addAbortSignal=B.addAbortSignal,L.exports.finished=B.finished,L.exports.destroy=B.destroy,L.exports.pipeline=B.pipeline,L.exports.compose=B.compose,Object.defineProperty(B,"promises",{configurable:!0,enumerable:!0,get(){return e}}),L.exports.Stream=B.Stream}else{let e=xi(),t=Ai(),r=e.Readable.destroy;L.exports=e.Readable,L.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,L.exports._isUint8Array=e._isUint8Array,L.exports.isDisturbed=e.isDisturbed,L.exports.isErrored=e.isErrored,L.exports.isReadable=e.isReadable,L.exports.Readable=e.Readable,L.exports.Writable=e.Writable,L.exports.Duplex=e.Duplex,L.exports.Transform=e.Transform,L.exports.PassThrough=e.PassThrough,L.exports.addAbortSignal=e.addAbortSignal,L.exports.finished=e.finished,L.exports.destroy=e.destroy,L.exports.destroy=r,L.exports.pipeline=e.pipeline,L.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return t}}),L.exports.Stream=e.Stream}L.exports.default=L.exports});var Xu=R((qE,Yu)=>{"use strict";var Hu=Symbol.for("pino.metadata"),c_=Vs(),{Duplex:d_}=zu(),{parentPort:Ku,workerData:Ju}=require("worker_threads");function h_(){let e,t,r=new Promise((n,i)=>{e=n,t=i});return r.resolve=e,r.reject=t,r}o(h_,"createDeferred");Yu.exports=o(function(t,r={}){let n=r.expectPinoConfig===!0&&Ju?.workerData?.pinoWillSendConfig===!0,i=r.parse==="lines",s=typeof r.parseLine=="function"?r.parseLine:JSON.parse,l=r.close||p_,f=c_(function(u){let a;try{a=s(u)}catch(d){this.emit("unknown",u,d);return}if(a===null){this.emit("unknown",u,"Null value ignored");return}return typeof a!="object"&&(a={data:a,time:Date.now()}),f[Hu]&&(f.lastTime=a.time,f.lastLevel=a.level,f.lastObj=a),i?u:a},{autoDestroy:!0});if(f._destroy=function(u,a){let d=l(u,a);d&&typeof d.then=="function"&&d.then(a,a)},r.expectPinoConfig===!0&&Ju?.workerData?.pinoWillSendConfig!==!0&&setImmediate(()=>{f.emit("error",new Error("This transport is not compatible with the current version of pino. Please upgrade pino to the latest version."))}),r.metadata!==!1&&(f[Hu]=!0,f.lastTime=0,f.lastLevel=0,f.lastObj=null),n){let u={},a=h_();return Ku.on("message",o(function d(b){b.code==="PINO_CONFIG"&&(u=b.config,a.resolve(),Ku.off("message",d))},"handleMessage")),Object.defineProperties(f,{levels:{get(){return u.levels}},messageKey:{get(){return u.messageKey}},errorKey:{get(){return u.errorKey}}}),a.then(h)}return h();function h(){let u=t(f);if(u&&typeof u.catch=="function")u.catch(a=>{f.destroy(a)}),u=null;else if(r.enablePipelining&&u)return d_.from({writable:f,readable:u});return f}},"build");function p_(e,t){process.nextTick(t,e)}o(p_,"defaultClose")});var Zu=R((NE,Qu)=>{var y_=new Function("modulePath","return import(modulePath)");function b_(e){return typeof __non_webpack__require__=="function"?__non_webpack__require__(e):require(e)}o(b_,"realRequire");Qu.exports={realImport:y_,realRequire:b_}});var ta=R(($E,ea)=>{"use strict";var{realImport:g_,realRequire:Et}=Zu();ea.exports=w_;async function w_(e){let t;try{let r=e.startsWith("file://")?e:"file://"+e;r.endsWith(".ts")||r.endsWith(".cts")?(process[Symbol.for("ts-node.register.instance")]?Et("ts-node/register"):process.env&&process.env.TS_NODE_DEV&&Et("ts-node-dev"),t=Et(decodeURIComponent(e))):t=await g_(r)}catch(r){if(r.code==="ENOTDIR"||r.code==="ERR_MODULE_NOT_FOUND")t=Et(e);else if(r.code===void 0||r.code==="ERR_VM_DYNAMIC_IMPORT_CALLBACK_MISSING")try{t=Et(decodeURIComponent(e))}catch{throw r}else throw r}if(typeof t=="object"&&(t=t.default),typeof t=="object"&&(t=t.default),typeof t!="function")throw Error("exported worker is not a function");return t}o(w_,"loadTransportStreamBuilder")});var m_=require("node:events"),{pipeline:__,PassThrough:S_}=require("node:stream"),E_=Ws(),R_=Xu(),ra=ta();module.exports=async function({targets:e,pipelines:t,levels:r,dedupe:n}){let i=[];if(e&&e.length&&(e=await Promise.all(e.map(async f=>{let u=await(await ra(f.target))(f.options);return{level:f.level,stream:u}})),i.push(...e)),t&&t.length&&(t=await Promise.all(t.map(async f=>{let h,u=await Promise.all(f.map(async a=>(h=a.level,await(await ra(a.target))(a.options))));return{level:h,stream:l(u)}})),i.push(...t)),i.length===1)return i[0].stream;return R_(s,{parse:"lines",metadata:!0,close(f,h){let u=0;for(let d of i)u++,d.stream.on("close",a),d.stream.end();function a(){--u===0&&h(f)}o(a,"closeCb")}});function s(f){let h=E_.multistream(i,{levels:r,dedupe:n});f.on("data",function(u){let{lastTime:a,lastMsg:d,lastObj:b,lastLevel:p}=this;h.lastLevel=p,h.lastTime=a,h.lastMsg=d,h.lastObj=b,h.write(u+`
`)})}function l(f){let h=new m_,u=new S_({autoDestroy:!0,destroy(a,d){h.on("error",d),h.on("closed",d)}});return __(u,...f,function(a){if(a&&a.code!=="ERR_STREAM_PREMATURE_CLOSE"){h.emit("error",a);return}h.emit("closed")}),u}};
